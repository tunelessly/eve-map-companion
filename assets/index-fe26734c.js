var $c=Object.defineProperty;var Tc=(nt,xt,Rt)=>xt in nt?$c(nt,xt,{enumerable:!0,configurable:!0,writable:!0,value:Rt}):nt[xt]=Rt;var Y=(nt,xt,Rt)=>(Tc(nt,typeof xt!="symbol"?xt+"":xt,Rt),Rt);(async()=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();function nt(){}function xt(t){return t()}function Rt(){return Object.create(null)}function se(t){t.forEach(xt)}function Ar(t){return typeof t=="function"}function Ue(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ei(t){return Object.keys(t).length===0}function kt(t,e){t.appendChild(e)}function Ye(t,e,r){t.insertBefore(e,r||null)}function _e(t){t.parentNode&&t.parentNode.removeChild(t)}function Ai(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function St(t){return document.createElement(t)}function Mr(t){return document.createTextNode(t)}function Ve(){return Mr(" ")}function be(t,e,r,i){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r,i)}function gt(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function Mi(t){return Array.from(t.childNodes)}function Ni(t,e){e=""+e,t.data!==e&&(t.data=e)}function Nr(t,e){t.value=e??""}function qr(t,e,r){for(let i=0;i<t.options.length;i+=1){const s=t.options[i];if(s.__value===e){s.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function qi(t){const e=t.querySelector(":checked");return e&&e.__value}let we;function xe(t){we=t}function Si(){if(!we)throw new Error("Function called outside component initialization");return we}function Sr(t){Si().$$.on_mount.push(t)}const ue=[],Yt=[];let le=[];const $r=[],$i=Promise.resolve();let On=!1;function Ti(){On||(On=!0,$i.then(Tr))}function Ke(t){le.push(t)}const Dn=new Set;let ce=0;function Tr(){if(ce!==0)return;const t=we;do{try{for(;ce<ue.length;){const e=ue[ce];ce++,xe(e),zi(e.$$)}}catch(e){throw ue.length=0,ce=0,e}for(xe(null),ue.length=0,ce=0;Yt.length;)Yt.pop()();for(let e=0;e<le.length;e+=1){const r=le[e];Dn.has(r)||(Dn.add(r),r())}le.length=0}while(ue.length);for(;$r.length;)$r.pop()();On=!1,Dn.clear(),xe(t)}function zi(t){if(t.fragment!==null){t.update(),se(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ke)}}function Oi(t){const e=[],r=[];le.forEach(i=>t.indexOf(i)===-1?e.push(i):r.push(i)),r.forEach(i=>i()),le=e}const We=new Set;let Di;function In(t,e){t&&t.i&&(We.delete(t),t.i(e))}function zr(t,e,r,i){if(t&&t.o){if(We.has(t))return;We.add(t),Di.c.push(()=>{We.delete(t),i&&(r&&t.d(1),i())}),t.o(e)}else i&&i()}function Or(t){t&&t.c()}function Rn(t,e,r,i){const{fragment:s,after_update:l}=t.$$;s&&s.m(e,r),i||Ke(()=>{const c=t.$$.on_mount.map(xt).filter(Ar);t.$$.on_destroy?t.$$.on_destroy.push(...c):se(c),t.$$.on_mount=[]}),l.forEach(Ke)}function Ln(t,e){const r=t.$$;r.fragment!==null&&(Oi(r.after_update),se(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function Ii(t,e){t.$$.dirty[0]===-1&&(ue.push(t),Ti(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Pn(t,e,r,i,s,l,c,h=[-1]){const p=we;xe(t);const a=t.$$={fragment:null,ctx:[],props:l,update:nt,not_equal:s,bound:Rt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(p?p.$$.context:[])),callbacks:Rt(),dirty:h,skip_bound:!1,root:e.target||p.$$.root};c&&c(a.root);let y=!1;if(a.ctx=r?r(t,e.props||{},(g,x,...N)=>{const k=N.length?N[0]:x;return a.ctx&&s(a.ctx[g],a.ctx[g]=k)&&(!a.skip_bound&&a.bound[g]&&a.bound[g](k),y&&Ii(t,g)),x}):[],a.update(),y=!0,se(a.before_update),a.fragment=i?i(a.ctx):!1,e.target){if(e.hydrate){const g=Mi(e.target);a.fragment&&a.fragment.l(g),g.forEach(_e)}else a.fragment&&a.fragment.c();e.intro&&In(t.$$.fragment),Rn(t,e.target,e.anchor,e.customElement),Tr()}xe(p)}class jn{$destroy(){Ln(this,1),this.$destroy=nt}$on(e,r){if(!Ar(r))return nt;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(r),()=>{const s=i.indexOf(r);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!Ei(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Ri(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function i(){if(this instanceof i){var s=[null];s.push.apply(s,arguments);var l=Function.bind.apply(e,s);return new l}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),r}var Cn={},Li={get exports(){return Cn},set exports(t){Cn=t}};const Pi={},ji=Object.freeze(Object.defineProperty({__proto__:null,default:Pi},Symbol.toStringTag,{value:"Module"})),Je=Ri(ji);(function(t,e){var r=void 0,i=function(s){return r||(r=new Promise(function(l,c){var h=typeof s<"u"?s:{},p=h.onAbort;h.onAbort=function(n){c(new Error(n)),p&&p(n)},h.postRun=h.postRun||[],h.postRun.push(function(){l(h)}),t=void 0;var a;a||(a=typeof h<"u"?h:{}),a.onRuntimeInitialized=function(){function n(d,E){switch(typeof E){case"boolean":Nc(d,E?1:0);break;case"number":Ec(d,E);break;case"string":Ac(d,E,-1,-1);break;case"object":if(E===null)xi(d);else if(E.length!=null){var $=Er(E);Mc(d,$,E.length,-1),$n($)}else zn(d,"Wrong API use : tried to return a value of an unknown type ("+E+").",-1);break;default:xi(d)}}function o(d,E){for(var $=[],D=0;D<d;D+=1){var C=Dt(E+4*D,"i32"),B=_c(C);if(B===1||B===2)C=kc(C);else if(B===3)C=wc(C);else if(B===4){B=C,C=bc(B),B=xc(B);for(var qt=new Uint8Array(C),ft=0;ft<C;ft+=1)qt[ft]=q[B+ft];C=qt}else C=null;$.push(C)}return $}function u(d,E){this.La=d,this.db=E,this.Ja=1,this.fb=[]}function f(d,E){if(this.db=E,E=S(d)+1,this.Ya=Sn(E),this.Ya===null)throw Error("Unable to allocate memory for the SQL string");v(d,z,this.Ya,E),this.eb=this.Ya,this.Ua=this.ib=null}function m(d){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),d!=null){var E=this.filename,$="/",D=E;if($&&($=typeof $=="string"?$:Pe($),D=E?It($+"/"+E):$),E=ci(!0,!0),D=xn(D,(E!==void 0?E:438)&4095|32768,0),d){if(typeof d=="string"){$=Array(d.length);for(var C=0,B=d.length;C<B;++C)$[C]=d.charCodeAt(C);d=$}En(D,E|146),$=ve(D,577),si($,d,0,d.length,0),yr($),En(D,E)}}this.handleError(R(this.filename,_)),this.db=Dt(_,"i32"),qc(this.db),this.Za={},this.Na={}}var _=Xt(4),b=a.cwrap,R=b("sqlite3_open","number",["string","number"]),F=b("sqlite3_close_v2","number",["number"]),G=b("sqlite3_exec","number",["number","string","number","number","number"]),tt=b("sqlite3_changes","number",["number"]),Ut=b("sqlite3_prepare_v2","number",["number","string","number","number","number"]),ec=b("sqlite3_sql","string",["number"]),nc=b("sqlite3_normalized_sql","string",["number"]),vi=b("sqlite3_prepare_v2","number",["number","number","number","number","number"]),rc=b("sqlite3_bind_text","number",["number","number","number","number","number"]),_i=b("sqlite3_bind_blob","number",["number","number","number","number","number"]),oc=b("sqlite3_bind_double","number",["number","number","number"]),ic=b("sqlite3_bind_int","number",["number","number","number"]),ac=b("sqlite3_bind_parameter_index","number",["number","string"]),sc=b("sqlite3_step","number",["number"]),uc=b("sqlite3_errmsg","string",["number"]),lc=b("sqlite3_column_count","number",["number"]),cc=b("sqlite3_data_count","number",["number"]),fc=b("sqlite3_column_double","number",["number","number"]),bi=b("sqlite3_column_text","string",["number","number"]),hc=b("sqlite3_column_blob","number",["number","number"]),mc=b("sqlite3_column_bytes","number",["number","number"]),pc=b("sqlite3_column_type","number",["number","number"]),dc=b("sqlite3_column_name","string",["number","number"]),yc=b("sqlite3_reset","number",["number"]),gc=b("sqlite3_clear_bindings","number",["number"]),vc=b("sqlite3_finalize","number",["number"]),wi=b("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),_c=b("sqlite3_value_type","number",["number"]),bc=b("sqlite3_value_bytes","number",["number"]),wc=b("sqlite3_value_text","string",["number"]),xc=b("sqlite3_value_blob","number",["number"]),kc=b("sqlite3_value_double","number",["number"]),Ec=b("sqlite3_result_double","",["number","number"]),xi=b("sqlite3_result_null","",["number"]),Ac=b("sqlite3_result_text","",["number","string","number","number"]),Mc=b("sqlite3_result_blob","",["number","number","number","number"]),Nc=b("sqlite3_result_int","",["number","number"]),zn=b("sqlite3_result_error","",["number","string","number"]),ki=b("sqlite3_aggregate_context","number",["number","number"]),qc=b("RegisterExtensionFunctions","number",["number"]);u.prototype.bind=function(d){if(!this.La)throw"Statement closed";return this.reset(),Array.isArray(d)?this.xb(d):d!=null&&typeof d=="object"?this.yb(d):!0},u.prototype.step=function(){if(!this.La)throw"Statement closed";this.Ja=1;var d=sc(this.La);switch(d){case 100:return!0;case 101:return!1;default:throw this.db.handleError(d)}},u.prototype.sb=function(d){return d==null&&(d=this.Ja,this.Ja+=1),fc(this.La,d)},u.prototype.Cb=function(d){if(d==null&&(d=this.Ja,this.Ja+=1),d=bi(this.La,d),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(d)},u.prototype.Db=function(d){return d==null&&(d=this.Ja,this.Ja+=1),bi(this.La,d)},u.prototype.getBlob=function(d){d==null&&(d=this.Ja,this.Ja+=1);var E=mc(this.La,d);d=hc(this.La,d);for(var $=new Uint8Array(E),D=0;D<E;D+=1)$[D]=q[d+D];return $},u.prototype.get=function(d,E){E=E||{},d!=null&&this.bind(d)&&this.step(),d=[];for(var $=cc(this.La),D=0;D<$;D+=1)switch(pc(this.La,D)){case 1:var C=E.useBigInt?this.Cb(D):this.sb(D);d.push(C);break;case 2:d.push(this.sb(D));break;case 3:d.push(this.Db(D));break;case 4:d.push(this.getBlob(D));break;default:d.push(null)}return d},u.prototype.getColumnNames=function(){for(var d=[],E=lc(this.La),$=0;$<E;$+=1)d.push(dc(this.La,$));return d},u.prototype.getAsObject=function(d,E){d=this.get(d,E),E=this.getColumnNames();for(var $={},D=0;D<E.length;D+=1)$[E[D]]=d[D];return $},u.prototype.getSQL=function(){return ec(this.La)},u.prototype.getNormalizedSQL=function(){return nc(this.La)},u.prototype.run=function(d){return d!=null&&this.bind(d),this.step(),this.reset()},u.prototype.nb=function(d,E){E==null&&(E=this.Ja,this.Ja+=1),d=Ho(d);var $=Er(d);this.fb.push($),this.db.handleError(rc(this.La,E,$,d.length-1,0))},u.prototype.wb=function(d,E){E==null&&(E=this.Ja,this.Ja+=1);var $=Er(d);this.fb.push($),this.db.handleError(_i(this.La,E,$,d.length,0))},u.prototype.mb=function(d,E){E==null&&(E=this.Ja,this.Ja+=1),this.db.handleError((d===(d|0)?ic:oc)(this.La,E,d))},u.prototype.zb=function(d){d==null&&(d=this.Ja,this.Ja+=1),_i(this.La,d,0,0,0)},u.prototype.ob=function(d,E){switch(E==null&&(E=this.Ja,this.Ja+=1),typeof d){case"string":this.nb(d,E);return;case"number":this.mb(d,E);return;case"bigint":this.nb(d.toString(),E);return;case"boolean":this.mb(d+0,E);return;case"object":if(d===null){this.zb(E);return}if(d.length!=null){this.wb(d,E);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+d+")."},u.prototype.yb=function(d){var E=this;return Object.keys(d).forEach(function($){var D=ac(E.La,$);D!==0&&E.ob(d[$],D)}),!0},u.prototype.xb=function(d){for(var E=0;E<d.length;E+=1)this.ob(d[E],E+1);return!0},u.prototype.reset=function(){return this.freemem(),gc(this.La)===0&&yc(this.La)===0},u.prototype.freemem=function(){for(var d;(d=this.fb.pop())!==void 0;)$n(d)},u.prototype.free=function(){this.freemem();var d=vc(this.La)===0;return delete this.db.Za[this.La],this.La=0,d},f.prototype.next=function(){if(this.Ya===null)return{done:!0};if(this.Ua!==null&&(this.Ua.free(),this.Ua=null),!this.db.db)throw this.gb(),Error("Database closed");var d=Fe(),E=Xt(4);Le(_),Le(E);try{this.db.handleError(vi(this.db.db,this.eb,-1,_,E)),this.eb=Dt(E,"i32");var $=Dt(_,"i32");return $===0?(this.gb(),{done:!0}):(this.Ua=new u($,this.db),this.db.Za[$]=this.Ua,{value:this.Ua,done:!1})}catch(D){throw this.ib=J(this.eb),this.gb(),D}finally{Be(d)}},f.prototype.gb=function(){$n(this.Ya),this.Ya=null},f.prototype.getRemainingSQL=function(){return this.ib!==null?this.ib:J(this.eb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(f.prototype[Symbol.iterator]=function(){return this}),m.prototype.run=function(d,E){if(!this.db)throw"Database closed";if(E){d=this.prepare(d,E);try{d.step()}finally{d.free()}}else this.handleError(G(this.db,d,0,0,_));return this},m.prototype.exec=function(d,E,$){if(!this.db)throw"Database closed";var D=Fe(),C=null;try{var B=S(d)+1,qt=Xt(B);v(d,q,qt,B);var ft=qt,dt=Xt(4);for(d=[];Dt(ft,"i8")!==0;){Le(_),Le(dt),this.handleError(vi(this.db,ft,-1,_,dt));var yt=Dt(_,"i32");if(ft=Dt(dt,"i32"),yt!==0){for(B=null,C=new u(yt,this),E!=null&&C.bind(E);C.step();)B===null&&(B={columns:C.getColumnNames(),values:[]},d.push(B)),B.values.push(C.get(null,$));C.free()}}return d}catch(Xe){throw C&&C.free(),Xe}finally{Be(D)}},m.prototype.each=function(d,E,$,D,C){typeof E=="function"&&(D=$,$=E,E=void 0),d=this.prepare(d,E);try{for(;d.step();)$(d.getAsObject(null,C))}finally{d.free()}if(typeof D=="function")return D()},m.prototype.prepare=function(d,E){if(Le(_),this.handleError(Ut(this.db,d,-1,_,0)),d=Dt(_,"i32"),d===0)throw"Nothing to prepare";var $=new u(d,this);return E!=null&&$.bind(E),this.Za[d]=$},m.prototype.iterateStatements=function(d){return new f(d,this)},m.prototype.export=function(){Object.values(this.Za).forEach(function(E){E.free()}),Object.values(this.Na).forEach(He),this.Na={},this.handleError(F(this.db));var d=Jl(this.filename);return this.handleError(R(this.filename,_)),this.db=Dt(_,"i32"),d},m.prototype.close=function(){this.db!==null&&(Object.values(this.Za).forEach(function(d){d.free()}),Object.values(this.Na).forEach(He),this.Na={},this.handleError(F(this.db)),ei("/"+this.filename),this.db=null)},m.prototype.handleError=function(d){if(d===0)return null;throw d=uc(this.db),Error(d)},m.prototype.getRowsModified=function(){return tt(this.db)},m.prototype.create_function=function(d,E){Object.prototype.hasOwnProperty.call(this.Na,d)&&(He(this.Na[d]),delete this.Na[d]);var $=kr(function(D,C,B){C=o(C,B);try{var qt=E.apply(null,C)}catch(ft){zn(D,ft,-1);return}n(D,qt)},"viii");return this.Na[d]=$,this.handleError(wi(this.db,d,E.length,1,0,$,0,0,0)),this},m.prototype.create_aggregate=function(d,E){var $=E.init||function(){return null},D=E.finalize||function(dt){return dt},C=E.step;if(!C)throw"An aggregate function must have a step function in "+d;var B={};Object.hasOwnProperty.call(this.Na,d)&&(He(this.Na[d]),delete this.Na[d]),E=d+"__finalize",Object.hasOwnProperty.call(this.Na,E)&&(He(this.Na[E]),delete this.Na[E]);var qt=kr(function(dt,yt,Xe){var ae=ki(dt,1);Object.hasOwnProperty.call(B,ae)||(B[ae]=$()),yt=o(yt,Xe),yt=[B[ae]].concat(yt);try{B[ae]=C.apply(null,yt)}catch(Sc){delete B[ae],zn(dt,Sc,-1)}},"viii"),ft=kr(function(dt){var yt=ki(dt,1);try{var Xe=D(B[yt])}catch(ae){delete B[yt],zn(dt,ae,-1);return}n(dt,Xe),delete B[yt]},"vi");return this.Na[d]=qt,this.Na[E]=ft,this.handleError(wi(this.db,d,C.length-1,1,0,0,qt,ft,0)),this},a.Database=m};var y=Object.assign({},a),g="./this.program",x=typeof window=="object",N=typeof importScripts=="function",k=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",I="",H,T,V,K,et,ot;k?(I=N?Je.dirname(I)+"/":__dirname+"/",ot=()=>{et||(K=Je,et=Je)},H=function(n,o){return ot(),n=et.normalize(n),K.readFileSync(n,o?void 0:"utf8")},V=n=>(n=H(n,!0),n.buffer||(n=new Uint8Array(n)),n),T=(n,o,u)=>{ot(),n=et.normalize(n),K.readFile(n,function(f,m){f?u(f):o(m.buffer)})},1<process.argv.length&&(g=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.exports=a,a.inspect=function(){return"[Emscripten Module object]"}):(x||N)&&(N?I=self.location.href:typeof document<"u"&&document.currentScript&&(I=document.currentScript.src),I=I.indexOf("blob:")!==0?I.substr(0,I.replace(/[?#].*/,"").lastIndexOf("/")+1):"",H=n=>{var o=new XMLHttpRequest;return o.open("GET",n,!1),o.send(null),o.responseText},N&&(V=n=>{var o=new XMLHttpRequest;return o.open("GET",n,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),T=(n,o,u)=>{var f=new XMLHttpRequest;f.open("GET",n,!0),f.responseType="arraybuffer",f.onload=()=>{f.status==200||f.status==0&&f.response?o(f.response):u()},f.onerror=u,f.send(null)});var at=a.print||console.log.bind(console),rt=a.printErr||console.warn.bind(console);Object.assign(a,y),y=null,a.thisProgram&&(g=a.thisProgram);var Mt;a.wasmBinary&&(Mt=a.wasmBinary),a.noExitRuntime,typeof WebAssembly!="object"&&Gt("no native wasm support detected");var Ct,ee=!1,_n=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ne(n,o,u){var f=o+u;for(u=o;n[u]&&!(u>=f);)++u;if(16<u-o&&n.buffer&&_n)return _n.decode(n.subarray(o,u));for(f="";o<u;){var m=n[o++];if(m&128){var _=n[o++]&63;if((m&224)==192)f+=String.fromCharCode((m&31)<<6|_);else{var b=n[o++]&63;m=(m&240)==224?(m&15)<<12|_<<6|b:(m&7)<<18|_<<12|b<<6|n[o++]&63,65536>m?f+=String.fromCharCode(m):(m-=65536,f+=String.fromCharCode(55296|m>>10,56320|m&1023))}}else f+=String.fromCharCode(m)}return f}function J(n,o){return n?ne(z,n,o):""}function v(n,o,u,f){if(!(0<f))return 0;var m=u;f=u+f-1;for(var _=0;_<n.length;++_){var b=n.charCodeAt(_);if(55296<=b&&57343>=b){var R=n.charCodeAt(++_);b=65536+((b&1023)<<10)|R&1023}if(127>=b){if(u>=f)break;o[u++]=b}else{if(2047>=b){if(u+1>=f)break;o[u++]=192|b>>6}else{if(65535>=b){if(u+2>=f)break;o[u++]=224|b>>12}else{if(u+3>=f)break;o[u++]=240|b>>18,o[u++]=128|b>>12&63}o[u++]=128|b>>6&63}o[u++]=128|b&63}}return o[u]=0,u-m}function S(n){for(var o=0,u=0;u<n.length;++u){var f=n.charCodeAt(u);127>=f?o++:2047>=f?o+=2:55296<=f&&57343>=f?(o+=4,++u):o+=3}return o}var A,q,z,P,M,O,X,st;function Z(){var n=Ct.buffer;A=n,a.HEAP8=q=new Int8Array(n),a.HEAP16=P=new Int16Array(n),a.HEAP32=M=new Int32Array(n),a.HEAPU8=z=new Uint8Array(n),a.HEAPU16=new Uint16Array(n),a.HEAPU32=O=new Uint32Array(n),a.HEAPF32=X=new Float32Array(n),a.HEAPF64=st=new Float64Array(n)}var Q,ht=[],ut=[],mt=[];function Ie(){var n=a.preRun.shift();ht.unshift(n)}var re=0,Re=null;function Gt(n){throw a.onAbort&&a.onAbort(n),n="Aborted("+n+")",rt(n),ee=!0,new WebAssembly.RuntimeError(n+". Build with -sASSERTIONS for more info.")}function jo(){return pt.startsWith("data:application/octet-stream;base64,")}var pt;if(pt="sql-wasm.wasm",!jo()){var Co=pt;pt=a.locateFile?a.locateFile(Co,I):I+Co}function Go(){var n=pt;try{if(n==pt&&Mt)return new Uint8Array(Mt);if(V)return V(n);throw"both async and sync fetching of the wasm failed"}catch(o){Gt(o)}}function Gl(){if(!Mt&&(x||N)){if(typeof fetch=="function"&&!pt.startsWith("file://"))return fetch(pt,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+pt+"'";return n.arrayBuffer()}).catch(function(){return Go()});if(T)return new Promise(function(n,o){T(pt,function(u){n(new Uint8Array(u))},o)})}return Promise.resolve().then(function(){return Go()})}var L,W;function lr(n){for(;0<n.length;)n.shift()(a)}function Dt(n,o="i8"){switch(o.endsWith("*")&&(o="*"),o){case"i1":return q[n>>0];case"i8":return q[n>>0];case"i16":return P[n>>1];case"i32":return M[n>>2];case"i64":return M[n>>2];case"float":return X[n>>2];case"double":return st[n>>3];case"*":return O[n>>2];default:Gt("invalid type for getValue: "+o)}return null}function Le(n){var o="i32";switch(o.endsWith("*")&&(o="*"),o){case"i1":q[n>>0]=0;break;case"i8":q[n>>0]=0;break;case"i16":P[n>>1]=0;break;case"i32":M[n>>2]=0;break;case"i64":W=[0,(L=0,1<=+Math.abs(L)?0<L?(Math.min(+Math.floor(L/4294967296),4294967295)|0)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],M[n>>2]=W[0],M[n+4>>2]=W[1];break;case"float":X[n>>2]=0;break;case"double":st[n>>3]=0;break;case"*":O[n>>2]=0;break;default:Gt("invalid type for setValue: "+o)}}var cr=(n,o)=>{for(var u=0,f=n.length-1;0<=f;f--){var m=n[f];m==="."?n.splice(f,1):m===".."?(n.splice(f,1),u++):u&&(n.splice(f,1),u--)}if(o)for(;u;u--)n.unshift("..");return n},It=n=>{var o=n.charAt(0)==="/",u=n.substr(-1)==="/";return(n=cr(n.split("/").filter(f=>!!f),!o).join("/"))||o||(n="."),n&&u&&(n+="/"),(o?"/":"")+n},Hl=n=>{var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(n).slice(1);return n=o[0],o=o[1],!n&&!o?".":(o&&(o=o.substr(0,o.length-1)),n+o)},bn=n=>{if(n==="/")return"/";n=It(n),n=n.replace(/\/$/,"");var o=n.lastIndexOf("/");return o===-1?n:n.substr(o+1)};function Fl(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var n=new Uint8Array(1);return()=>(crypto.getRandomValues(n),n[0])}if(k)try{var o=Je;return()=>o.randomBytes(1)[0]}catch{}return()=>Gt("randomDevice")}function wn(){for(var n="",o=!1,u=arguments.length-1;-1<=u&&!o;u--){if(o=0<=u?arguments[u]:"/",typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!o)return"";n=o+"/"+n,o=o.charAt(0)==="/"}return n=cr(n.split("/").filter(f=>!!f),!o).join("/"),(o?"/":"")+n||"."}function Ho(n,o){var u=Array(S(n)+1);return n=v(n,u,0,u.length),o&&(u.length=n),u}var Fo=[];function Bo(n,o){Fo[n]={input:[],output:[],Xa:o},pr(n,Bl)}var Bl={open:function(n){var o=Fo[n.node.rdev];if(!o)throw new w(43);n.tty=o,n.seekable=!1},close:function(n){n.tty.Xa.fsync(n.tty)},fsync:function(n){n.tty.Xa.fsync(n.tty)},read:function(n,o,u,f){if(!n.tty||!n.tty.Xa.tb)throw new w(60);for(var m=0,_=0;_<f;_++){try{var b=n.tty.Xa.tb(n.tty)}catch{throw new w(29)}if(b===void 0&&m===0)throw new w(6);if(b==null)break;m++,o[u+_]=b}return m&&(n.node.timestamp=Date.now()),m},write:function(n,o,u,f){if(!n.tty||!n.tty.Xa.jb)throw new w(60);try{for(var m=0;m<f;m++)n.tty.Xa.jb(n.tty,o[u+m])}catch{throw new w(29)}return f&&(n.node.timestamp=Date.now()),m}},Xl={tb:function(n){if(!n.input.length){var o=null;if(k){var u=Buffer.alloc(256),f=0;try{f=K.readSync(process.stdin.fd,u,0,256,-1)}catch(m){if(m.toString().includes("EOF"))f=0;else throw m}0<f?o=u.slice(0,f).toString("utf-8"):o=null}else typeof window<"u"&&typeof window.prompt=="function"?(o=window.prompt("Input: "),o!==null&&(o+=`
`)):typeof readline=="function"&&(o=readline(),o!==null&&(o+=`
`));if(!o)return null;n.input=Ho(o,!0)}return n.input.shift()},jb:function(n,o){o===null||o===10?(at(ne(n.output,0)),n.output=[]):o!=0&&n.output.push(o)},fsync:function(n){n.output&&0<n.output.length&&(at(ne(n.output,0)),n.output=[])}},Ul={jb:function(n,o){o===null||o===10?(rt(ne(n.output,0)),n.output=[]):o!=0&&n.output.push(o)},fsync:function(n){n.output&&0<n.output.length&&(rt(ne(n.output,0)),n.output=[])}},j={Qa:null,Ra:function(){return j.createNode(null,"/",16895,0)},createNode:function(n,o,u,f){if((u&61440)===24576||(u&61440)===4096)throw new w(63);return j.Qa||(j.Qa={dir:{node:{Pa:j.Ga.Pa,Oa:j.Ga.Oa,lookup:j.Ga.lookup,ab:j.Ga.ab,rename:j.Ga.rename,unlink:j.Ga.unlink,rmdir:j.Ga.rmdir,readdir:j.Ga.readdir,symlink:j.Ga.symlink},stream:{Ta:j.Ha.Ta}},file:{node:{Pa:j.Ga.Pa,Oa:j.Ga.Oa},stream:{Ta:j.Ha.Ta,read:j.Ha.read,write:j.Ha.write,lb:j.Ha.lb,bb:j.Ha.bb,cb:j.Ha.cb}},link:{node:{Pa:j.Ga.Pa,Oa:j.Ga.Oa,readlink:j.Ga.readlink},stream:{}},pb:{node:{Pa:j.Ga.Pa,Oa:j.Ga.Oa},stream:Wl}}),u=Vo(n,o,u,f),(u.mode&61440)===16384?(u.Ga=j.Qa.dir.node,u.Ha=j.Qa.dir.stream,u.Ia={}):(u.mode&61440)===32768?(u.Ga=j.Qa.file.node,u.Ha=j.Qa.file.stream,u.Ma=0,u.Ia=null):(u.mode&61440)===40960?(u.Ga=j.Qa.link.node,u.Ha=j.Qa.link.stream):(u.mode&61440)===8192&&(u.Ga=j.Qa.pb.node,u.Ha=j.Qa.pb.stream),u.timestamp=Date.now(),n&&(n.Ia[o]=u,n.timestamp=u.timestamp),u},Jb:function(n){return n.Ia?n.Ia.subarray?n.Ia.subarray(0,n.Ma):new Uint8Array(n.Ia):new Uint8Array(0)},qb:function(n,o){var u=n.Ia?n.Ia.length:0;u>=o||(o=Math.max(o,u*(1048576>u?2:1.125)>>>0),u!=0&&(o=Math.max(o,256)),u=n.Ia,n.Ia=new Uint8Array(o),0<n.Ma&&n.Ia.set(u.subarray(0,n.Ma),0))},Gb:function(n,o){if(n.Ma!=o)if(o==0)n.Ia=null,n.Ma=0;else{var u=n.Ia;n.Ia=new Uint8Array(o),u&&n.Ia.set(u.subarray(0,Math.min(o,n.Ma))),n.Ma=o}},Ga:{Pa:function(n){var o={};return o.dev=(n.mode&61440)===8192?n.id:1,o.ino=n.id,o.mode=n.mode,o.nlink=1,o.uid=0,o.gid=0,o.rdev=n.rdev,(n.mode&61440)===16384?o.size=4096:(n.mode&61440)===32768?o.size=n.Ma:(n.mode&61440)===40960?o.size=n.link.length:o.size=0,o.atime=new Date(n.timestamp),o.mtime=new Date(n.timestamp),o.ctime=new Date(n.timestamp),o.Ab=4096,o.blocks=Math.ceil(o.size/o.Ab),o},Oa:function(n,o){o.mode!==void 0&&(n.mode=o.mode),o.timestamp!==void 0&&(n.timestamp=o.timestamp),o.size!==void 0&&j.Gb(n,o.size)},lookup:function(){throw hr[44]},ab:function(n,o,u,f){return j.createNode(n,o,u,f)},rename:function(n,o,u){if((n.mode&61440)===16384){try{var f=oe(o,u)}catch{}if(f)for(var m in f.Ia)throw new w(55)}delete n.parent.Ia[n.name],n.parent.timestamp=Date.now(),n.name=u,o.Ia[u]=n,o.timestamp=n.parent.timestamp,n.parent=o},unlink:function(n,o){delete n.Ia[o],n.timestamp=Date.now()},rmdir:function(n,o){var u=oe(n,o),f;for(f in u.Ia)throw new w(55);delete n.Ia[o],n.timestamp=Date.now()},readdir:function(n){var o=[".",".."],u;for(u in n.Ia)n.Ia.hasOwnProperty(u)&&o.push(u);return o},symlink:function(n,o,u){return n=j.createNode(n,o,41471,0),n.link=u,n},readlink:function(n){if((n.mode&61440)!==40960)throw new w(28);return n.link}},Ha:{read:function(n,o,u,f,m){var _=n.node.Ia;if(m>=n.node.Ma)return 0;if(n=Math.min(n.node.Ma-m,f),8<n&&_.subarray)o.set(_.subarray(m,m+n),u);else for(f=0;f<n;f++)o[u+f]=_[m+f];return n},write:function(n,o,u,f,m,_){if(o.buffer===q.buffer&&(_=!1),!f)return 0;if(n=n.node,n.timestamp=Date.now(),o.subarray&&(!n.Ia||n.Ia.subarray)){if(_)return n.Ia=o.subarray(u,u+f),n.Ma=f;if(n.Ma===0&&m===0)return n.Ia=o.slice(u,u+f),n.Ma=f;if(m+f<=n.Ma)return n.Ia.set(o.subarray(u,u+f),m),f}if(j.qb(n,m+f),n.Ia.subarray&&o.subarray)n.Ia.set(o.subarray(u,u+f),m);else for(_=0;_<f;_++)n.Ia[m+_]=o[u+_];return n.Ma=Math.max(n.Ma,m+f),f},Ta:function(n,o,u){if(u===1?o+=n.position:u===2&&(n.node.mode&61440)===32768&&(o+=n.node.Ma),0>o)throw new w(28);return o},lb:function(n,o,u){j.qb(n.node,o+u),n.node.Ma=Math.max(n.node.Ma,o+u)},bb:function(n,o,u,f,m){if((n.node.mode&61440)!==32768)throw new w(43);if(n=n.node.Ia,m&2||n.buffer!==A){if((0<u||u+o<n.length)&&(n.subarray?n=n.subarray(u,u+o):n=Array.prototype.slice.call(n,u,u+o)),u=!0,o=65536*Math.ceil(o/65536),(m=yi(65536,o))?(z.fill(0,m,m+o),o=m):o=0,!o)throw new w(48);q.set(n,o)}else u=!1,o=n.byteOffset;return{Fb:o,vb:u}},cb:function(n,o,u,f,m){if((n.node.mode&61440)!==32768)throw new w(43);return m&2||j.Ha.write(n,o,0,f,u,!1),0}}},fr=null,Xo={},Ht=[],Yl=1,Ft=null,Uo=!0,w=null,hr={},lt=(n,o={})=>{if(n=wn("/",n),!n)return{path:"",node:null};if(o=Object.assign({rb:!0,kb:0},o),8<o.kb)throw new w(32);n=cr(n.split("/").filter(b=>!!b),!1);for(var u=fr,f="/",m=0;m<n.length;m++){var _=m===n.length-1;if(_&&o.parent)break;if(u=oe(u,n[m]),f=It(f+"/"+n[m]),u.Va&&(!_||_&&o.rb)&&(u=u.Va.root),!_||o.Sa){for(_=0;(u.mode&61440)===40960;)if(u=ni(f),f=wn(Hl(f),u),u=lt(f,{kb:o.kb+1}).node,40<_++)throw new w(32)}}return{path:f,node:u}},Pe=n=>{for(var o;;){if(n===n.parent)return n=n.Ra.ub,o?n[n.length-1]!=="/"?n+"/"+o:n+o:n;o=o?n.name+"/"+o:n.name,n=n.parent}},mr=(n,o)=>{for(var u=0,f=0;f<o.length;f++)u=(u<<5)-u+o.charCodeAt(f)|0;return(n+u>>>0)%Ft.length},Yo=n=>{var o=mr(n.parent.id,n.name);if(Ft[o]===n)Ft[o]=n.Wa;else for(o=Ft[o];o;){if(o.Wa===n){o.Wa=n.Wa;break}o=o.Wa}},oe=(n,o)=>{var u;if(u=(u=ge(n,"x"))?u:n.Ga.lookup?0:2)throw new w(u,n);for(u=Ft[mr(n.id,o)];u;u=u.Wa){var f=u.name;if(u.parent.id===n.id&&f===o)return u}return n.Ga.lookup(n,o)},Vo=(n,o,u,f)=>(n=new pi(n,o,u,f),o=mr(n.parent.id,n.name),n.Wa=Ft[o],Ft[o]=n),Vl={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},Ko=n=>{var o=["r","w","rw"][n&3];return n&512&&(o+="w"),o},ge=(n,o)=>{if(Uo)return 0;if(!o.includes("r")||n.mode&292){if(o.includes("w")&&!(n.mode&146)||o.includes("x")&&!(n.mode&73))return 2}else return 2;return 0},Wo=(n,o)=>{try{return oe(n,o),20}catch{}return ge(n,"wx")},Jo=(n,o,u)=>{try{var f=oe(n,o)}catch(m){return m.Ka}if(n=ge(n,"wx"))return n;if(u){if((f.mode&61440)!==16384)return 54;if(f===f.parent||Pe(f)==="/")return 10}else if((f.mode&61440)===16384)return 31;return 0},Kl=(n=0)=>{for(;4096>=n;n++)if(!Ht[n])return n;throw new w(33)},Zo=(n,o)=>(Ge||(Ge=function(){this.$a={}},Ge.prototype={},Object.defineProperties(Ge.prototype,{object:{get:function(){return this.node},set:function(u){this.node=u}},flags:{get:function(){return this.$a.flags},set:function(u){this.$a.flags=u}},position:{get:function(){return this.$a.position},set:function(u){this.$a.position=u}}})),n=Object.assign(new Ge,n),o=Kl(o),n.fd=o,Ht[o]=n),Wl={open:n=>{n.Ha=Xo[n.node.rdev].Ha,n.Ha.open&&n.Ha.open(n)},Ta:()=>{throw new w(70)}},pr=(n,o)=>{Xo[n]={Ha:o}},Qo=(n,o)=>{var u=o==="/",f=!o;if(u&&fr)throw new w(10);if(!u&&!f){var m=lt(o,{rb:!1});if(o=m.path,m=m.node,m.Va)throw new w(10);if((m.mode&61440)!==16384)throw new w(54)}o={type:n,Kb:{},ub:o,Eb:[]},n=n.Ra(o),n.Ra=o,o.root=n,u?fr=n:m&&(m.Va=o,m.Ra&&m.Ra.Eb.push(o))},xn=(n,o,u)=>{var f=lt(n,{parent:!0}).node;if(n=bn(n),!n||n==="."||n==="..")throw new w(28);var m=Wo(f,n);if(m)throw new w(m);if(!f.Ga.ab)throw new w(63);return f.Ga.ab(f,n,o,u)},Nt=(n,o)=>xn(n,(o!==void 0?o:511)&1023|16384,0),kn=(n,o,u)=>{typeof u>"u"&&(u=o,o=438),xn(n,o|8192,u)},dr=(n,o)=>{if(!wn(n))throw new w(44);var u=lt(o,{parent:!0}).node;if(!u)throw new w(44);o=bn(o);var f=Wo(u,o);if(f)throw new w(f);if(!u.Ga.symlink)throw new w(63);u.Ga.symlink(u,o,n)},ti=n=>{var o=lt(n,{parent:!0}).node;n=bn(n);var u=oe(o,n),f=Jo(o,n,!0);if(f)throw new w(f);if(!o.Ga.rmdir)throw new w(63);if(u.Va)throw new w(10);o.Ga.rmdir(o,n),Yo(u)},ei=n=>{var o=lt(n,{parent:!0}).node;if(!o)throw new w(44);n=bn(n);var u=oe(o,n),f=Jo(o,n,!1);if(f)throw new w(f);if(!o.Ga.unlink)throw new w(63);if(u.Va)throw new w(10);o.Ga.unlink(o,n),Yo(u)},ni=n=>{if(n=lt(n).node,!n)throw new w(44);if(!n.Ga.readlink)throw new w(28);return wn(Pe(n.parent),n.Ga.readlink(n))},je=(n,o)=>{if(n=lt(n,{Sa:!o}).node,!n)throw new w(44);if(!n.Ga.Pa)throw new w(63);return n.Ga.Pa(n)},ri=n=>je(n,!0),En=(n,o)=>{if(n=typeof n=="string"?lt(n,{Sa:!0}).node:n,!n.Ga.Oa)throw new w(63);n.Ga.Oa(n,{mode:o&4095|n.mode&-4096,timestamp:Date.now()})},oi=(n,o)=>{if(0>o)throw new w(28);if(n=typeof n=="string"?lt(n,{Sa:!0}).node:n,!n.Ga.Oa)throw new w(63);if((n.mode&61440)===16384)throw new w(31);if((n.mode&61440)!==32768)throw new w(28);var u=ge(n,"w");if(u)throw new w(u);n.Ga.Oa(n,{size:o,timestamp:Date.now()})},ve=(n,o,u)=>{if(n==="")throw new w(44);if(typeof o=="string"){var f=Vl[o];if(typeof f>"u")throw Error("Unknown file open mode: "+o);o=f}if(u=o&64?(typeof u>"u"?438:u)&4095|32768:0,typeof n=="object")var m=n;else{n=It(n);try{m=lt(n,{Sa:!(o&131072)}).node}catch{}}if(f=!1,o&64)if(m){if(o&128)throw new w(20)}else m=xn(n,u,0),f=!0;if(!m)throw new w(44);if((m.mode&61440)===8192&&(o&=-513),o&65536&&(m.mode&61440)!==16384)throw new w(54);if(!f&&(u=m?(m.mode&61440)===40960?32:(m.mode&61440)===16384&&(Ko(o)!=="r"||o&512)?31:ge(m,Ko(o)):44))throw new w(u);return o&512&&!f&&oi(m,0),o&=-131713,m=Zo({node:m,path:Pe(m),flags:o,seekable:!0,position:0,Ha:m.Ha,Ib:[],error:!1}),m.Ha.open&&m.Ha.open(m),!a.logReadFiles||o&1||(An||(An={}),n in An||(An[n]=1)),m},yr=n=>{if(n.fd===null)throw new w(8);n.hb&&(n.hb=null);try{n.Ha.close&&n.Ha.close(n)}catch(o){throw o}finally{Ht[n.fd]=null}n.fd=null},ii=(n,o,u)=>{if(n.fd===null)throw new w(8);if(!n.seekable||!n.Ha.Ta)throw new w(70);if(u!=0&&u!=1&&u!=2)throw new w(28);n.position=n.Ha.Ta(n,o,u),n.Ib=[]},ai=(n,o,u,f,m)=>{if(0>f||0>m)throw new w(28);if(n.fd===null)throw new w(8);if((n.flags&2097155)===1)throw new w(8);if((n.node.mode&61440)===16384)throw new w(31);if(!n.Ha.read)throw new w(28);var _=typeof m<"u";if(!_)m=n.position;else if(!n.seekable)throw new w(70);return o=n.Ha.read(n,o,u,f,m),_||(n.position+=o),o},si=(n,o,u,f,m)=>{if(0>f||0>m)throw new w(28);if(n.fd===null)throw new w(8);if(!(n.flags&2097155))throw new w(8);if((n.node.mode&61440)===16384)throw new w(31);if(!n.Ha.write)throw new w(28);n.seekable&&n.flags&1024&&ii(n,0,2);var _=typeof m<"u";if(!_)m=n.position;else if(!n.seekable)throw new w(70);return o=n.Ha.write(n,o,u,f,m,void 0),_||(n.position+=o),o},Jl=n=>{var o,u=ve(n,u||0);n=je(n).size;var f=new Uint8Array(n);return ai(u,f,0,n,0),o=f,yr(u),o},ui=()=>{w||(w=function(n,o){this.node=o,this.Hb=function(u){this.Ka=u},this.Hb(n),this.message="FS error"},w.prototype=Error(),w.prototype.constructor=w,[44].forEach(n=>{hr[n]=new w(n),hr[n].stack="<generic error, no stack>"}))},li,ci=(n,o)=>{var u=0;return n&&(u|=365),o&&(u|=146),u},Ce=(n,o,u)=>{n=It("/dev/"+n);var f=ci(!!o,!!u);gr||(gr=64);var m=gr++<<8|0;pr(m,{open:_=>{_.seekable=!1},close:()=>{u&&u.buffer&&u.buffer.length&&u(10)},read:(_,b,R,F)=>{for(var G=0,tt=0;tt<F;tt++){try{var Ut=o()}catch{throw new w(29)}if(Ut===void 0&&G===0)throw new w(6);if(Ut==null)break;G++,b[R+tt]=Ut}return G&&(_.node.timestamp=Date.now()),G},write:(_,b,R,F)=>{for(var G=0;G<F;G++)try{u(b[R+G])}catch{throw new w(29)}return F&&(_.node.timestamp=Date.now()),G}}),kn(n,f,m)},gr,U={},Ge,An;function ie(n,o,u){if(o.charAt(0)==="/")return o;if(n=n===-100?"/":wt(n).path,o.length==0){if(!u)throw new w(44);return n}return It(n+"/"+o)}function Mn(n,o,u){try{var f=n(o)}catch(m){if(m&&m.node&&It(o)!==It(Pe(m.node)))return-54;throw m}return M[u>>2]=f.dev,M[u+8>>2]=f.ino,M[u+12>>2]=f.mode,O[u+16>>2]=f.nlink,M[u+20>>2]=f.uid,M[u+24>>2]=f.gid,M[u+28>>2]=f.rdev,W=[f.size>>>0,(L=f.size,1<=+Math.abs(L)?0<L?(Math.min(+Math.floor(L/4294967296),4294967295)|0)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],M[u+40>>2]=W[0],M[u+44>>2]=W[1],M[u+48>>2]=4096,M[u+52>>2]=f.blocks,W=[Math.floor(f.atime.getTime()/1e3)>>>0,(L=Math.floor(f.atime.getTime()/1e3),1<=+Math.abs(L)?0<L?(Math.min(+Math.floor(L/4294967296),4294967295)|0)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],M[u+56>>2]=W[0],M[u+60>>2]=W[1],O[u+64>>2]=0,W=[Math.floor(f.mtime.getTime()/1e3)>>>0,(L=Math.floor(f.mtime.getTime()/1e3),1<=+Math.abs(L)?0<L?(Math.min(+Math.floor(L/4294967296),4294967295)|0)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],M[u+72>>2]=W[0],M[u+76>>2]=W[1],O[u+80>>2]=0,W=[Math.floor(f.ctime.getTime()/1e3)>>>0,(L=Math.floor(f.ctime.getTime()/1e3),1<=+Math.abs(L)?0<L?(Math.min(+Math.floor(L/4294967296),4294967295)|0)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],M[u+88>>2]=W[0],M[u+92>>2]=W[1],O[u+96>>2]=0,W=[f.ino>>>0,(L=f.ino,1<=+Math.abs(L)?0<L?(Math.min(+Math.floor(L/4294967296),4294967295)|0)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],M[u+104>>2]=W[0],M[u+108>>2]=W[1],0}var Nn=void 0;function qn(){return Nn+=4,M[Nn-4>>2]}function wt(n){if(n=Ht[n],!n)throw new w(8);return n}function vr(n){return O[n>>2]+4294967296*M[n+4>>2]}function fi(n){var o=S(n)+1,u=Sn(o);return u&&v(n,q,u,o),u}function Zl(n,o,u){function f(F){return(F=F.toTimeString().match(/\(([A-Za-z ]+)\)$/))?F[1]:"GMT"}var m=new Date().getFullYear(),_=new Date(m,0,1),b=new Date(m,6,1);m=_.getTimezoneOffset();var R=b.getTimezoneOffset();M[n>>2]=60*Math.max(m,R),M[o>>2]=+(m!=R),n=f(_),o=f(b),n=fi(n),o=fi(o),R<m?(O[u>>2]=n,O[u+4>>2]=o):(O[u>>2]=o,O[u+4>>2]=n)}function _r(n,o,u){_r.Bb||(_r.Bb=!0,Zl(n,o,u))}var hi;hi=k?()=>{var n=process.hrtime();return 1e3*n[0]+n[1]/1e6}:()=>performance.now();var br={};function mi(){if(!wr){var n={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"},o;for(o in br)br[o]===void 0?delete n[o]:n[o]=br[o];var u=[];for(o in n)u.push(o+"="+n[o]);wr=u}return wr}var wr,Bt=void 0,xr=[];function kr(n,o){if(!Bt){Bt=new WeakMap;var u=Q.length;if(Bt)for(var f=0;f<0+u;f++){var m=Q.get(f);m&&Bt.set(m,f)}}if(Bt.has(n))return Bt.get(n);if(xr.length)u=xr.pop();else{try{Q.grow(1)}catch(R){throw R instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":R}u=Q.length-1}try{Q.set(u,n)}catch(R){if(!(R instanceof TypeError))throw R;if(typeof WebAssembly.Function=="function"){f=WebAssembly.Function,m={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"};for(var _={parameters:[],results:o[0]=="v"?[]:[m[o[0]]]},b=1;b<o.length;++b)_.parameters.push(m[o[b]]);o=new f(_,n)}else{for(f=[1,96],m=o.slice(0,1),o=o.slice(1),_={i:127,p:127,j:126,f:125,d:124},b=o.length,128>b?f.push(b):f.push(b%128|128,b>>7),b=0;b<o.length;++b)f.push(_[o[b]]);m=="v"?f.push(0):f.push(1,_[m]),o=[0,97,115,109,1,0,0,0,1],m=f.length,128>m?o.push(m):o.push(m%128|128,m>>7),o.push.apply(o,f),o.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),o=new WebAssembly.Module(new Uint8Array(o)),o=new WebAssembly.Instance(o,{e:{f:n}}).exports.f}Q.set(u,o)}return Bt.set(n,u),u}function He(n){Bt.delete(Q.get(n)),xr.push(n)}function Er(n){var o=Sn(n.length);return n.subarray||n.slice||(n=new Uint8Array(n)),z.set(n,o),o}function Ql(n,o,u,f){var m={string:G=>{var tt=0;if(G!=null&&G!==0){var Ut=(G.length<<2)+1;tt=Xt(Ut),v(G,z,tt,Ut)}return tt},array:G=>{var tt=Xt(G.length);return q.set(G,tt),tt}};n=a["_"+n];var _=[],b=0;if(f)for(var R=0;R<f.length;R++){var F=m[u[R]];F?(b===0&&(b=Fe()),_[R]=F(f[R])):_[R]=f[R]}return u=n.apply(null,_),u=function(G){return b!==0&&Be(b),o==="string"?J(G):o==="boolean"?!!G:G}(u)}function pi(n,o,u,f){n||(n=this),this.parent=n,this.Ra=n.Ra,this.Va=null,this.id=Yl++,this.name=o,this.mode=u,this.Ga={},this.Ha={},this.rdev=f}Object.defineProperties(pi.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(n){n?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(n){n?this.mode|=146:this.mode&=-147}}}),ui(),Ft=Array(4096),Qo(j,"/"),Nt("/tmp"),Nt("/home"),Nt("/home/web_user"),(()=>{Nt("/dev"),pr(259,{read:()=>0,write:(o,u,f,m)=>m}),kn("/dev/null",259),Bo(1280,Xl),Bo(1536,Ul),kn("/dev/tty",1280),kn("/dev/tty1",1536);var n=Fl();Ce("random",n),Ce("urandom",n),Nt("/dev/shm"),Nt("/dev/shm/tmp")})(),(()=>{Nt("/proc");var n=Nt("/proc/self");Nt("/proc/self/fd"),Qo({Ra:()=>{var o=Vo(n,"fd",16895,73);return o.Ga={lookup:(u,f)=>{var m=Ht[+f];if(!m)throw new w(8);return u={parent:null,Ra:{ub:"fake"},Ga:{readlink:()=>m.path}},u.parent=u}},o}},"/proc/self/fd")})();var tc={a:function(n,o,u,f){Gt("Assertion failed: "+J(n)+", at: "+[o?J(o):"unknown filename",u,f?J(f):"unknown function"])},h:function(n,o){try{return n=J(n),En(n,o),0}catch(u){if(typeof U>"u"||!(u instanceof w))throw u;return-u.Ka}},H:function(n,o,u){try{if(o=J(o),o=ie(n,o),u&-8)return-28;var f=lt(o,{Sa:!0}).node;return f?(n="",u&4&&(n+="r"),u&2&&(n+="w"),u&1&&(n+="x"),n&&ge(f,n)?-2:0):-44}catch(m){if(typeof U>"u"||!(m instanceof w))throw m;return-m.Ka}},i:function(n,o){try{var u=Ht[n];if(!u)throw new w(8);return En(u.node,o),0}catch(f){if(typeof U>"u"||!(f instanceof w))throw f;return-f.Ka}},g:function(n){try{var o=Ht[n];if(!o)throw new w(8);var u=o.node,f=typeof u=="string"?lt(u,{Sa:!0}).node:u;if(!f.Ga.Oa)throw new w(63);return f.Ga.Oa(f,{timestamp:Date.now()}),0}catch(m){if(typeof U>"u"||!(m instanceof w))throw m;return-m.Ka}},b:function(n,o,u){Nn=u;try{var f=wt(n);switch(o){case 0:var m=qn();return 0>m?-28:Zo(f,m).fd;case 1:case 2:return 0;case 3:return f.flags;case 4:return m=qn(),f.flags|=m,0;case 5:return m=qn(),P[m+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return M[di()>>2]=28,-1;default:return-28}}catch(_){if(typeof U>"u"||!(_ instanceof w))throw _;return-_.Ka}},G:function(n,o){try{var u=wt(n);return Mn(je,u.path,o)}catch(f){if(typeof U>"u"||!(f instanceof w))throw f;return-f.Ka}},l:function(n,o,u){try{if(o=u+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*u:NaN,isNaN(o))return-61;var f=Ht[n];if(!f)throw new w(8);if(!(f.flags&2097155))throw new w(28);return oi(f.node,o),0}catch(m){if(typeof U>"u"||!(m instanceof w))throw m;return-m.Ka}},B:function(n,o){try{if(o===0)return-28;var u=S("/")+1;return o<u?-68:(v("/",z,n,o),u)}catch(f){if(typeof U>"u"||!(f instanceof w))throw f;return-f.Ka}},E:function(n,o){try{return n=J(n),Mn(ri,n,o)}catch(u){if(typeof U>"u"||!(u instanceof w))throw u;return-u.Ka}},y:function(n,o,u){try{return o=J(o),o=ie(n,o),o=It(o),o[o.length-1]==="/"&&(o=o.substr(0,o.length-1)),Nt(o,u),0}catch(f){if(typeof U>"u"||!(f instanceof w))throw f;return-f.Ka}},D:function(n,o,u,f){try{o=J(o);var m=f&256;return o=ie(n,o,f&4096),Mn(m?ri:je,o,u)}catch(_){if(typeof U>"u"||!(_ instanceof w))throw _;return-_.Ka}},v:function(n,o,u,f){Nn=f;try{o=J(o),o=ie(n,o);var m=f?qn():0;return ve(o,u,m).fd}catch(_){if(typeof U>"u"||!(_ instanceof w))throw _;return-_.Ka}},t:function(n,o,u,f){try{if(o=J(o),o=ie(n,o),0>=f)return-28;var m=ni(o),_=Math.min(f,S(m)),b=q[u+_];return v(m,z,u,f+1),q[u+_]=b,_}catch(R){if(typeof U>"u"||!(R instanceof w))throw R;return-R.Ka}},s:function(n){try{return n=J(n),ti(n),0}catch(o){if(typeof U>"u"||!(o instanceof w))throw o;return-o.Ka}},F:function(n,o){try{return n=J(n),Mn(je,n,o)}catch(u){if(typeof U>"u"||!(u instanceof w))throw u;return-u.Ka}},p:function(n,o,u){try{return o=J(o),o=ie(n,o),u===0?ei(o):u===512?ti(o):Gt("Invalid flags passed to unlinkat"),0}catch(f){if(typeof U>"u"||!(f instanceof w))throw f;return-f.Ka}},o:function(n,o,u){try{if(o=J(o),o=ie(n,o,!0),u){var f=vr(u),m=M[u+8>>2];_=1e3*f+m/1e6,u+=16,f=vr(u),m=M[u+8>>2],b=1e3*f+m/1e6}else var _=Date.now(),b=_;n=_;var R=lt(o,{Sa:!0}).node;return R.Ga.Oa(R,{timestamp:Math.max(n,b)}),0}catch(F){if(typeof U>"u"||!(F instanceof w))throw F;return-F.Ka}},e:function(){return Date.now()},j:function(n,o){n=new Date(1e3*vr(n)),M[o>>2]=n.getSeconds(),M[o+4>>2]=n.getMinutes(),M[o+8>>2]=n.getHours(),M[o+12>>2]=n.getDate(),M[o+16>>2]=n.getMonth(),M[o+20>>2]=n.getFullYear()-1900,M[o+24>>2]=n.getDay();var u=new Date(n.getFullYear(),0,1);M[o+28>>2]=(n.getTime()-u.getTime())/864e5|0,M[o+36>>2]=-(60*n.getTimezoneOffset());var f=new Date(n.getFullYear(),6,1).getTimezoneOffset();u=u.getTimezoneOffset(),M[o+32>>2]=(f!=u&&n.getTimezoneOffset()==Math.min(u,f))|0},w:function(n,o,u,f,m,_){try{var b=wt(f);if(o&2&&!(u&2)&&(b.flags&2097155)!==2)throw new w(2);if((b.flags&2097155)===1)throw new w(2);if(!b.Ha.bb)throw new w(43);var R=b.Ha.bb(b,n,m,o,u),F=R.Fb;return M[_>>2]=R.vb,F}catch(G){if(typeof U>"u"||!(G instanceof w))throw G;return-G.Ka}},x:function(n,o,u,f,m,_){try{var b=wt(m);if(u&2){var R=z.slice(n,n+o);b&&b.Ha.cb&&b.Ha.cb(b,R,_,o,f)}}catch(F){if(typeof U>"u"||!(F instanceof w))throw F;return-F.Ka}},n:_r,q:function(){return 2147483648},d:hi,c:function(n){var o=z.length;if(n>>>=0,2147483648<n)return!1;for(var u=1;4>=u;u*=2){var f=o*(1+.2/u);f=Math.min(f,n+100663296);var m=Math;f=Math.max(n,f),m=m.min.call(m,2147483648,f+(65536-f%65536)%65536);t:{try{Ct.grow(m-A.byteLength+65535>>>16),Z();var _=1;break t}catch{}_=void 0}if(_)return!0}return!1},z:function(n,o){var u=0;return mi().forEach(function(f,m){var _=o+u;for(m=O[n+4*m>>2]=_,_=0;_<f.length;++_)q[m++>>0]=f.charCodeAt(_);q[m>>0]=0,u+=f.length+1}),0},A:function(n,o){var u=mi();O[n>>2]=u.length;var f=0;return u.forEach(function(m){f+=m.length+1}),O[o>>2]=f,0},f:function(n){try{var o=wt(n);return yr(o),0}catch(u){if(typeof U>"u"||!(u instanceof w))throw u;return u.Ka}},m:function(n,o){try{var u=wt(n);return q[o>>0]=u.tty?2:(u.mode&61440)===16384?3:(u.mode&61440)===40960?7:4,0}catch(f){if(typeof U>"u"||!(f instanceof w))throw f;return f.Ka}},u:function(n,o,u,f){try{t:{var m=wt(n);n=o;for(var _=o=0;_<u;_++){var b=O[n>>2],R=O[n+4>>2];n+=8;var F=ai(m,q,b,R);if(0>F){var G=-1;break t}if(o+=F,F<R)break}G=o}return O[f>>2]=G,0}catch(tt){if(typeof U>"u"||!(tt instanceof w))throw tt;return tt.Ka}},k:function(n,o,u,f,m){try{if(o=u+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*u:NaN,isNaN(o))return 61;var _=wt(n);return ii(_,o,f),W=[_.position>>>0,(L=_.position,1<=+Math.abs(L)?0<L?(Math.min(+Math.floor(L/4294967296),4294967295)|0)>>>0:~~+Math.ceil((L-+(~~L>>>0))/4294967296)>>>0:0)],M[m>>2]=W[0],M[m+4>>2]=W[1],_.hb&&o===0&&f===0&&(_.hb=null),0}catch(b){if(typeof U>"u"||!(b instanceof w))throw b;return b.Ka}},C:function(n){try{var o=wt(n);return o.Ha&&o.Ha.fsync?o.Ha.fsync(o):0}catch(u){if(typeof U>"u"||!(u instanceof w))throw u;return u.Ka}},r:function(n,o,u,f){try{t:{var m=wt(n);n=o;for(var _=o=0;_<u;_++){var b=O[n>>2],R=O[n+4>>2];n+=8;var F=si(m,q,b,R);if(0>F){var G=-1;break t}o+=F}G=o}return O[f>>2]=G,0}catch(tt){if(typeof U>"u"||!(tt instanceof w))throw tt;return tt.Ka}}};(function(){function n(m){a.asm=m.exports,Ct=a.asm.I,Z(),Q=a.asm.Aa,ut.unshift(a.asm.J),re--,a.monitorRunDependencies&&a.monitorRunDependencies(re),re==0&&Re&&(m=Re,Re=null,m())}function o(m){n(m.instance)}function u(m){return Gl().then(function(_){return WebAssembly.instantiate(_,f)}).then(function(_){return _}).then(m,function(_){rt("failed to asynchronously prepare wasm: "+_),Gt(_)})}var f={a:tc};if(re++,a.monitorRunDependencies&&a.monitorRunDependencies(re),a.instantiateWasm)try{return a.instantiateWasm(f,n)}catch(m){return rt("Module.instantiateWasm callback failed with error: "+m),!1}return function(){return Mt||typeof WebAssembly.instantiateStreaming!="function"||jo()||pt.startsWith("file://")||k||typeof fetch!="function"?u(o):fetch(pt,{credentials:"same-origin"}).then(function(m){return WebAssembly.instantiateStreaming(m,f).then(o,function(_){return rt("wasm streaming compile failed: "+_),rt("falling back to ArrayBuffer instantiation"),u(o)})})}(),{}})(),a.___wasm_call_ctors=function(){return(a.___wasm_call_ctors=a.asm.J).apply(null,arguments)},a._sqlite3_free=function(){return(a._sqlite3_free=a.asm.K).apply(null,arguments)},a._sqlite3_value_double=function(){return(a._sqlite3_value_double=a.asm.L).apply(null,arguments)},a._sqlite3_value_text=function(){return(a._sqlite3_value_text=a.asm.M).apply(null,arguments)};var di=a.___errno_location=function(){return(di=a.___errno_location=a.asm.N).apply(null,arguments)};a._sqlite3_prepare_v2=function(){return(a._sqlite3_prepare_v2=a.asm.O).apply(null,arguments)},a._sqlite3_step=function(){return(a._sqlite3_step=a.asm.P).apply(null,arguments)},a._sqlite3_finalize=function(){return(a._sqlite3_finalize=a.asm.Q).apply(null,arguments)},a._sqlite3_reset=function(){return(a._sqlite3_reset=a.asm.R).apply(null,arguments)},a._sqlite3_value_int=function(){return(a._sqlite3_value_int=a.asm.S).apply(null,arguments)},a._sqlite3_clear_bindings=function(){return(a._sqlite3_clear_bindings=a.asm.T).apply(null,arguments)},a._sqlite3_value_blob=function(){return(a._sqlite3_value_blob=a.asm.U).apply(null,arguments)},a._sqlite3_value_bytes=function(){return(a._sqlite3_value_bytes=a.asm.V).apply(null,arguments)},a._sqlite3_value_type=function(){return(a._sqlite3_value_type=a.asm.W).apply(null,arguments)},a._sqlite3_result_blob=function(){return(a._sqlite3_result_blob=a.asm.X).apply(null,arguments)},a._sqlite3_result_double=function(){return(a._sqlite3_result_double=a.asm.Y).apply(null,arguments)},a._sqlite3_result_error=function(){return(a._sqlite3_result_error=a.asm.Z).apply(null,arguments)},a._sqlite3_result_int=function(){return(a._sqlite3_result_int=a.asm._).apply(null,arguments)},a._sqlite3_result_int64=function(){return(a._sqlite3_result_int64=a.asm.$).apply(null,arguments)},a._sqlite3_result_null=function(){return(a._sqlite3_result_null=a.asm.aa).apply(null,arguments)},a._sqlite3_result_text=function(){return(a._sqlite3_result_text=a.asm.ba).apply(null,arguments)},a._sqlite3_sql=function(){return(a._sqlite3_sql=a.asm.ca).apply(null,arguments)},a._sqlite3_aggregate_context=function(){return(a._sqlite3_aggregate_context=a.asm.da).apply(null,arguments)},a._sqlite3_column_count=function(){return(a._sqlite3_column_count=a.asm.ea).apply(null,arguments)},a._sqlite3_data_count=function(){return(a._sqlite3_data_count=a.asm.fa).apply(null,arguments)},a._sqlite3_column_blob=function(){return(a._sqlite3_column_blob=a.asm.ga).apply(null,arguments)},a._sqlite3_column_bytes=function(){return(a._sqlite3_column_bytes=a.asm.ha).apply(null,arguments)},a._sqlite3_column_double=function(){return(a._sqlite3_column_double=a.asm.ia).apply(null,arguments)},a._sqlite3_column_text=function(){return(a._sqlite3_column_text=a.asm.ja).apply(null,arguments)},a._sqlite3_column_type=function(){return(a._sqlite3_column_type=a.asm.ka).apply(null,arguments)},a._sqlite3_column_name=function(){return(a._sqlite3_column_name=a.asm.la).apply(null,arguments)},a._sqlite3_bind_blob=function(){return(a._sqlite3_bind_blob=a.asm.ma).apply(null,arguments)},a._sqlite3_bind_double=function(){return(a._sqlite3_bind_double=a.asm.na).apply(null,arguments)},a._sqlite3_bind_int=function(){return(a._sqlite3_bind_int=a.asm.oa).apply(null,arguments)},a._sqlite3_bind_text=function(){return(a._sqlite3_bind_text=a.asm.pa).apply(null,arguments)},a._sqlite3_bind_parameter_index=function(){return(a._sqlite3_bind_parameter_index=a.asm.qa).apply(null,arguments)},a._sqlite3_normalized_sql=function(){return(a._sqlite3_normalized_sql=a.asm.ra).apply(null,arguments)},a._sqlite3_errmsg=function(){return(a._sqlite3_errmsg=a.asm.sa).apply(null,arguments)},a._sqlite3_exec=function(){return(a._sqlite3_exec=a.asm.ta).apply(null,arguments)},a._sqlite3_changes=function(){return(a._sqlite3_changes=a.asm.ua).apply(null,arguments)},a._sqlite3_close_v2=function(){return(a._sqlite3_close_v2=a.asm.va).apply(null,arguments)},a._sqlite3_create_function_v2=function(){return(a._sqlite3_create_function_v2=a.asm.wa).apply(null,arguments)},a._sqlite3_open=function(){return(a._sqlite3_open=a.asm.xa).apply(null,arguments)};var Sn=a._malloc=function(){return(Sn=a._malloc=a.asm.ya).apply(null,arguments)},$n=a._free=function(){return($n=a._free=a.asm.za).apply(null,arguments)};a._RegisterExtensionFunctions=function(){return(a._RegisterExtensionFunctions=a.asm.Ba).apply(null,arguments)};var yi=a._emscripten_builtin_memalign=function(){return(yi=a._emscripten_builtin_memalign=a.asm.Ca).apply(null,arguments)},Fe=a.stackSave=function(){return(Fe=a.stackSave=a.asm.Da).apply(null,arguments)},Be=a.stackRestore=function(){return(Be=a.stackRestore=a.asm.Ea).apply(null,arguments)},Xt=a.stackAlloc=function(){return(Xt=a.stackAlloc=a.asm.Fa).apply(null,arguments)};a.UTF8ToString=J,a.stackAlloc=Xt,a.stackSave=Fe,a.stackRestore=Be,a.cwrap=function(n,o,u,f){u=u||[];var m=u.every(_=>_==="number"||_==="boolean");return o!=="string"&&m&&!f?a["_"+n]:function(){return Ql(n,o,u,arguments)}};var Tn;Re=function n(){Tn||gi(),Tn||(Re=n)};function gi(){function n(){if(!Tn&&(Tn=!0,a.calledRun=!0,!ee)){if(a.noFSInit||li||(li=!0,ui(),a.stdin=a.stdin,a.stdout=a.stdout,a.stderr=a.stderr,a.stdin?Ce("stdin",a.stdin):dr("/dev/tty","/dev/stdin"),a.stdout?Ce("stdout",null,a.stdout):dr("/dev/tty","/dev/stdout"),a.stderr?Ce("stderr",null,a.stderr):dr("/dev/tty1","/dev/stderr"),ve("/dev/stdin",0),ve("/dev/stdout",1),ve("/dev/stderr",1)),Uo=!1,lr(ut),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;){var o=a.postRun.shift();mt.unshift(o)}lr(mt)}}if(!(0<re)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)Ie();lr(ht),0<re||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),n()},1)):n())}}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return gi(),h}),r)};t.exports=i,t.exports.default=i})(Li);const Ci=Cn,Gi=await fetch(new URL("/eve-map-companion/database/database_version_1688131537678.sqlite3",self.location)),Hi=await Gi.blob(),Ze=new FileReader;Ze.readAsArrayBuffer(Hi);const Fi=await new Promise((t,e)=>{Ze.onloadend=()=>t(Ze.result),Ze.onerror=()=>e("Error trying to read blob.")}),Bi=new Uint8Array(Fi),Xi=await Ci({locateFile:t=>`https://sql.js.org/dist/${t}`}),Ui=new Xi.Database(Bi);function Gn(t,e,r,i){function s(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function h(y){try{a(i.next(y))}catch(g){c(g)}}function p(y){try{a(i.throw(y))}catch(g){c(g)}}function a(y){y.done?l(y.value):s(y.value).then(h,p)}a((i=i.apply(t,e||[])).next())})}function Hn(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,s,l,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(a){return function(y){return p([a,y])}}function p(a){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,s&&(l=a[0]&2?s.return:a[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,a[1])).done)return l;switch(s=0,l&&(a=[a[0]&2,l.value]),a[0]){case 0:case 1:l=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,s=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!l||a[1]>l[0]&&a[1]<l[3])){r.label=a[1];break}if(a[0]===6&&r.label<l[1]){r.label=l[1],l=a;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(a);break}l[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(y){a=[6,y],s=0}finally{i=l=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function Qe(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),s,l=[],c;try{for(;(e===void 0||e-- >0)&&!(s=i.next()).done;)l.push(s.value)}catch(h){c={error:h}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(c)throw c.error}}return l}function Vt(t,e,r){if(r||arguments.length===2)for(var i=0,s=e.length,l;i<s;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return t.concat(l||Array.prototype.slice.call(e))}var Yi={withStackTrace:!1},Dr=function(t,e,r){r===void 0&&(r=Yi);var i=e.isOk()?{type:"Ok",value:e.value}:{type:"Err",value:e.error},s=r.withStackTrace?new Error().stack:void 0;return{data:i,message:t,stack:s}},fe=function(){function t(e){this._promise=e}return t.fromSafePromise=function(e){var r=e.then(function(i){return new Kt(i)});return new t(r)},t.fromPromise=function(e,r){var i=e.then(function(s){return new Kt(s)}).catch(function(s){return new Wt(r(s))});return new t(i)},t.combine=function(e){return Ki(e)},t.combineWithAllErrors=function(e){return Wi(e)},t.prototype.map=function(e){var r=this;return new t(this._promise.then(function(i){return Gn(r,void 0,void 0,function(){var s;return Hn(this,function(l){switch(l.label){case 0:return i.isErr()?[2,new Wt(i.error)]:(s=Kt.bind,[4,e(i.value)]);case 1:return[2,new(s.apply(Kt,[void 0,l.sent()]))]}})})}))},t.prototype.mapErr=function(e){var r=this;return new t(this._promise.then(function(i){return Gn(r,void 0,void 0,function(){var s;return Hn(this,function(l){switch(l.label){case 0:return i.isOk()?[2,new Kt(i.value)]:(s=Wt.bind,[4,e(i.error)]);case 1:return[2,new(s.apply(Wt,[void 0,l.sent()]))]}})})}))},t.prototype.andThen=function(e){return new t(this._promise.then(function(r){if(r.isErr())return new Wt(r.error);var i=e(r.value);return i instanceof t?i._promise:i}))},t.prototype.orElse=function(e){var r=this;return new t(this._promise.then(function(i){return Gn(r,void 0,void 0,function(){return Hn(this,function(s){return i.isErr()?[2,e(i.error)]:[2,new Kt(i.value)]})})}))},t.prototype.match=function(e,r){return this._promise.then(function(i){return i.match(e,r)})},t.prototype.unwrapOr=function(e){return this._promise.then(function(r){return r.unwrapOr(e)})},t.prototype.then=function(e,r){return this._promise.then(e,r)},t}(),Ir=function(t){return new fe(Promise.resolve(new Wt(t)))};fe.fromPromise,fe.fromSafePromise;var Vi=function(t){return function(e){return Vt(Vt([],Qe(e),!1),[t],!1)}},Rr=function(t){return t.reduce(function(e,r){return e.isOk()?r.isErr()?vt(r.error):e.map(Vi(r.value)):e},$t([]))},Ki=function(t){return fe.fromSafePromise(Promise.all(t)).andThen(Rr)},Lr=function(t){return t.reduce(function(e,r){return r.isErr()?e.isErr()?vt(Vt(Vt([],Qe(e.error),!1),[r.error],!1)):vt([r.error]):e.isErr()?e:$t(Vt(Vt([],Qe(e.value),!1),[r.value],!1))},$t([]))},Wi=function(t){return fe.fromSafePromise(Promise.all(t)).andThen(Lr)},tn;(function(t){function e(s,l){return function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];try{var p=s.apply(void 0,Vt([],Qe(c),!1));return $t(p)}catch(a){return vt(l?l(a):a)}}}t.fromThrowable=e;function r(s){return Rr(s)}t.combine=r;function i(s){return Lr(s)}t.combineWithAllErrors=i})(tn||(tn={}));var $t=function(t){return new Kt(t)},vt=function(t){return new Wt(t)},Kt=function(){function t(e){this.value=e}return t.prototype.isOk=function(){return!0},t.prototype.isErr=function(){return!this.isOk()},t.prototype.map=function(e){return $t(e(this.value))},t.prototype.mapErr=function(e){return $t(this.value)},t.prototype.andThen=function(e){return e(this.value)},t.prototype.orElse=function(e){return $t(this.value)},t.prototype.asyncAndThen=function(e){return e(this.value)},t.prototype.asyncMap=function(e){return fe.fromSafePromise(e(this.value))},t.prototype.unwrapOr=function(e){return this.value},t.prototype.match=function(e,r){return e(this.value)},t.prototype._unsafeUnwrap=function(e){return this.value},t.prototype._unsafeUnwrapErr=function(e){throw Dr("Called `_unsafeUnwrapErr` on an Ok",this,e)},t}(),Wt=function(){function t(e){this.error=e}return t.prototype.isOk=function(){return!1},t.prototype.isErr=function(){return!this.isOk()},t.prototype.map=function(e){return vt(this.error)},t.prototype.mapErr=function(e){return vt(e(this.error))},t.prototype.andThen=function(e){return vt(this.error)},t.prototype.orElse=function(e){return e(this.error)},t.prototype.asyncAndThen=function(e){return Ir(this.error)},t.prototype.asyncMap=function(e){return Ir(this.error)},t.prototype.unwrapOr=function(e){return e},t.prototype.match=function(e,r){return r(this.error)},t.prototype._unsafeUnwrap=function(e){throw Dr("Called `_unsafeUnwrap` on an Err",this,e)},t.prototype._unsafeUnwrapErr=function(e){return this.error},t}();tn.fromThrowable;const Ji=`
    select
         r.regionName
        ,r.regionID
    from
        regions r
    order by
        r.regionName asc
`,Pr=`
    with data as (
        select
             j.*
            ,r1.regionName as fromRegionName
            ,r2.regionName as toRegionName
            ,s1.solarSystemName as fromSystemName
            ,s1.x as fromX
            ,s1.y as fromY
            ,s1.z as fromZ
            ,s2.solarSystemName as toSystemName
            ,s2.x as toX
            ,s2.y as toY
            ,s2.z as toZ
            ,row_number() over (partition by max(
                lower(s1.solarSystemName || s2.solarSystemName),
                lower(s2.solarSystemName || s1.solarSystemName)
            ) order by 
                 r1.regionName = $name desc
                ,s1.solarSystemName asc
            ) as rn
        from
            jumps j
        join
            regions r1
        on
            j.fromRegionID = r1.regionID
        join
            regions r2
        on
            j.toRegionID = r2.regionID
        join
            systemsSubway s1
        on
            j.fromSolarSystemID = s1.solarSystemID
            and
            r1.regionID = s1.subwayInitiatedFromRegionID
        join
            systemsSubway s2
        on
            j.toSolarSystemID = s2.solarSystemID
            and
            r1.regionID = s2.subwayInitiatedFromRegionID
        where
            r1.regionName = $name
    )
`,Zi=`
    ${Pr}
    select
        json_object(
            'fromX', fromX,
            'fromY', fromY,
            'fromZ', fromZ,
            'toX', toX,
            'toY', toY,
            'toZ', toZ
        ) as d
    from
        data
    where
        rn = 1
`,Qi=`
    ${Pr},
    ids as (
        select distinct
              fromSolarSystemID as solarSystemID
        from
            data
        union
        select distinct
             toSolarSystemID as solarSystemID
        from
            data
    )
    select
        json_object(
            'systemName', s.solarSystemName,
            'security', s.security,
            'x',s.x ,
            'y',s.y,
            'z',s.z
        ) as d
    from
        ids i
    join
        systemsSubway s
    on
        i.solarSystemID = s.solarSystemID
    join
        regions r
    on
        r.regionID = s.subwayInitiatedFromRegionID
    where
        r.regionName = $name
`,ur=class{constructor(){Y(this,"_regionNames");Y(this,"_db",Ui)}get name(){return ur._name}static get instance(){return this._instance||(this._instance=new this)}getAllRegionNames(){const e=this._db.exec(Ji).flatMap(r=>r.values).map(r=>r[0].valueOf());return this._regionNames=e,e}get regionNames(){return this._regionNames===void 0&&this.getAllRegionNames(),this._regionNames}getRegionData(e,r){return this._db.exec(r,{$name:e}).map(i=>i.values).flatMap(i=>i.map(s=>JSON.parse(s[0].valueOf())))}getRegionCoordinatesandStatuses(e){if(this.regionNames.find(r=>r==e)!==void 0){const r=this.getRegionData(e,Qi);return r.length===0?vt(`Region not found: ${e}`):$t(r)}else return vt(`Could not find region: ${e}`)}getConnections(e){if(this.regionNames.find(r=>r==e)!==void 0){const r=this.getRegionData(e,Zi);return r.length===0?vt(`Region not found: ${e}`):$t(r)}else return vt(`Could not find region: ${e}`)}};let Jt=ur;Y(Jt,"_name","New Eden"),Y(Jt,"_instance");const he=[];function ke(t,e=nt){let r;const i=new Set;function s(h){if(Ue(t,h)&&(t=h,r)){const p=!he.length;for(const a of i)a[1](),he.push(a,t);if(p){for(let a=0;a<he.length;a+=2)he[a][0](he[a+1]);he.length=0}}}function l(h){s(h(t))}function c(h,p=nt){const a=[h,p];return i.add(a),i.size===1&&(r=e(s)||nt),h(t),()=>{i.delete(a),i.size===0&&r&&(r(),r=null)}}return{set:s,update:l,subscribe:c}}const jr=ke(),Cr=ke(),Gr=ke(),Hr=ke(),Fr=ke(),ta=t=>{let e=t.s/100,r=t.v/100,i=r*e,s=t.h/60,l=i*(1-Math.abs(s%2-1)),c=r-i;var h=Math.round(s),p=h===0?[i,l,0]:h===1?[l,i,0]:h===2?[0,i,l]:h===3?[0,l,i]:h===4?[l,0,i]:h===5?[i,0,l]:[];return{r:Math.round(255*(p[0]+c)),g:Math.round(255*(p[1]+c)),b:Math.round(255*(p[2]+c))}},ea=t=>{const e=t<0?0:t;return{h:Math.round(180*e),s:100,v:100}};var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});var Br=Ee.jaroWinkler=Ee.jaro=void 0;function Xr(t,e,r){if(t.length===0||e.length===0)return 0;if(r&&!r.caseSensitive&&(t=t.toUpperCase(),e=e.toUpperCase()),t===e)return 1;for(var i=0,s=t.length,l=e.length,c=Math.floor(Math.max(s,l)/2)-1,h=new Array(s),p=new Array(l),a=0;a<s;a++)for(var y=Math.max(0,a-c);y<=Math.min(l,a+c+1);y++)if(!h[a]&&!p[y]&&t[a]===e[y]){++i,h[a]=p[y]=!0;break}if(i===0)return 0;for(var g=0,x=0,a=0;a<s;a++)if(h[a]){for(;!p[x];)x++;t.charAt(a)!==e.charAt(x++)&&g++}return g/=2,(i/s+i/l+(i-g)/i)/3}Ee.jaro=Xr;function na(t,e,r){var i=Xr(t,e,r),s=0;if(i>.7){for(var l=Math.min(t.length,e.length),c=0;t[c]===e[c]&&c<4&&c<l;)++s,c++;i+=.1*s*(1-i)}return i}Br=Ee.jaroWinkler=na;var ra={value:()=>{}};function Fn(){for(var t=0,e=arguments.length,r={},i;t<e;++t){if(!(i=arguments[t]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new en(r)}function en(t){this._=t}function oa(t,e){return t.trim().split(/^|\s+/).map(function(r){var i="",s=r.indexOf(".");if(s>=0&&(i=r.slice(s+1),r=r.slice(0,s)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}en.prototype=Fn.prototype={constructor:en,on:function(t,e){var r=this._,i=oa(t+"",r),s,l=-1,c=i.length;if(arguments.length<2){for(;++l<c;)if((s=(t=i[l]).type)&&(s=ia(r[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++l<c;)if(s=(t=i[l]).type)r[s]=Ur(r[s],t.name,e);else if(e==null)for(s in r)r[s]=Ur(r[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new en(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var r=new Array(s),i=0,s,l;i<s;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(l=this._[t],i=0,s=l.length;i<s;++i)l[i].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],s=0,l=i.length;s<l;++s)i[s].value.apply(e,r)}};function ia(t,e){for(var r=0,i=t.length,s;r<i;++r)if((s=t[r]).name===e)return s.value}function Ur(t,e,r){for(var i=0,s=t.length;i<s;++i)if(t[i].name===e){t[i]=ra,t=t.slice(0,i).concat(t.slice(i+1));break}return r!=null&&t.push({name:e,value:r}),t}var Bn="http://www.w3.org/1999/xhtml";const Yr={svg:"http://www.w3.org/2000/svg",xhtml:Bn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nn(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),Yr.hasOwnProperty(e)?{space:Yr[e],local:t}:t}function aa(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===Bn&&e.documentElement.namespaceURI===Bn?e.createElement(t):e.createElementNS(r,t)}}function sa(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Xn(t){var e=nn(t);return(e.local?sa:aa)(e)}function ua(){}function Un(t){return t==null?ua:function(){return this.querySelector(t)}}function la(t){typeof t!="function"&&(t=Un(t));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var l=e[s],c=l.length,h=i[s]=new Array(c),p,a,y=0;y<c;++y)(p=l[y])&&(a=t.call(p,p.__data__,y,l))&&("__data__"in p&&(a.__data__=p.__data__),h[y]=a);return new ct(i,this._parents)}function ca(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function fa(){return[]}function Vr(t){return t==null?fa:function(){return this.querySelectorAll(t)}}function ha(t){return function(){return ca(t.apply(this,arguments))}}function ma(t){typeof t=="function"?t=ha(t):t=Vr(t);for(var e=this._groups,r=e.length,i=[],s=[],l=0;l<r;++l)for(var c=e[l],h=c.length,p,a=0;a<h;++a)(p=c[a])&&(i.push(t.call(p,p.__data__,a,c)),s.push(p));return new ct(i,s)}function Kr(t){return function(){return this.matches(t)}}function Wr(t){return function(e){return e.matches(t)}}var pa=Array.prototype.find;function da(t){return function(){return pa.call(this.children,t)}}function ya(){return this.firstElementChild}function ga(t){return this.select(t==null?ya:da(typeof t=="function"?t:Wr(t)))}var va=Array.prototype.filter;function _a(){return Array.from(this.children)}function ba(t){return function(){return va.call(this.children,t)}}function wa(t){return this.selectAll(t==null?_a:ba(typeof t=="function"?t:Wr(t)))}function xa(t){typeof t!="function"&&(t=Kr(t));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var l=e[s],c=l.length,h=i[s]=[],p,a=0;a<c;++a)(p=l[a])&&t.call(p,p.__data__,a,l)&&h.push(p);return new ct(i,this._parents)}function Jr(t){return new Array(t.length)}function ka(){return new ct(this._enter||this._groups.map(Jr),this._parents)}function rn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}rn.prototype={constructor:rn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ea(t){return function(){return t}}function Aa(t,e,r,i,s,l){for(var c=0,h,p=e.length,a=l.length;c<a;++c)(h=e[c])?(h.__data__=l[c],i[c]=h):r[c]=new rn(t,l[c]);for(;c<p;++c)(h=e[c])&&(s[c]=h)}function Ma(t,e,r,i,s,l,c){var h,p,a=new Map,y=e.length,g=l.length,x=new Array(y),N;for(h=0;h<y;++h)(p=e[h])&&(x[h]=N=c.call(p,p.__data__,h,e)+"",a.has(N)?s[h]=p:a.set(N,p));for(h=0;h<g;++h)N=c.call(t,l[h],h,l)+"",(p=a.get(N))?(i[h]=p,p.__data__=l[h],a.delete(N)):r[h]=new rn(t,l[h]);for(h=0;h<y;++h)(p=e[h])&&a.get(x[h])===p&&(s[h]=p)}function Na(t){return t.__data__}function qa(t,e){if(!arguments.length)return Array.from(this,Na);var r=e?Ma:Aa,i=this._parents,s=this._groups;typeof t!="function"&&(t=Ea(t));for(var l=s.length,c=new Array(l),h=new Array(l),p=new Array(l),a=0;a<l;++a){var y=i[a],g=s[a],x=g.length,N=Sa(t.call(y,y&&y.__data__,a,i)),k=N.length,I=h[a]=new Array(k),H=c[a]=new Array(k),T=p[a]=new Array(x);r(y,g,I,H,T,N,e);for(var V=0,K=0,et,ot;V<k;++V)if(et=I[V]){for(V>=K&&(K=V+1);!(ot=H[K])&&++K<k;);et._next=ot||null}}return c=new ct(c,i),c._enter=h,c._exit=p,c}function Sa(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $a(){return new ct(this._exit||this._groups.map(Jr),this._parents)}function Ta(t,e,r){var i=this.enter(),s=this,l=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),r==null?l.remove():r(l),i&&s?i.merge(s).order():s}function za(t){for(var e=t.selection?t.selection():t,r=this._groups,i=e._groups,s=r.length,l=i.length,c=Math.min(s,l),h=new Array(s),p=0;p<c;++p)for(var a=r[p],y=i[p],g=a.length,x=h[p]=new Array(g),N,k=0;k<g;++k)(N=a[k]||y[k])&&(x[k]=N);for(;p<s;++p)h[p]=r[p];return new ct(h,this._parents)}function Oa(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var i=t[e],s=i.length-1,l=i[s],c;--s>=0;)(c=i[s])&&(l&&c.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(c,l),l=c);return this}function Da(t){t||(t=Ia);function e(g,x){return g&&x?t(g.__data__,x.__data__):!g-!x}for(var r=this._groups,i=r.length,s=new Array(i),l=0;l<i;++l){for(var c=r[l],h=c.length,p=s[l]=new Array(h),a,y=0;y<h;++y)(a=c[y])&&(p[y]=a);p.sort(e)}return new ct(s,this._parents).order()}function Ia(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ra(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function La(){return Array.from(this)}function Pa(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var i=t[e],s=0,l=i.length;s<l;++s){var c=i[s];if(c)return c}return null}function ja(){let t=0;for(const e of this)++t;return t}function Ca(){return!this.node()}function Ga(t){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var s=e[r],l=0,c=s.length,h;l<c;++l)(h=s[l])&&t.call(h,h.__data__,l,s);return this}function Ha(t){return function(){this.removeAttribute(t)}}function Fa(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ba(t,e){return function(){this.setAttribute(t,e)}}function Xa(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ua(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function Ya(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function Va(t,e){var r=nn(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((e==null?r.local?Fa:Ha:typeof e=="function"?r.local?Ya:Ua:r.local?Xa:Ba)(r,e))}function Zr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ka(t){return function(){this.style.removeProperty(t)}}function Wa(t,e,r){return function(){this.style.setProperty(t,e,r)}}function Ja(t,e,r){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,r)}}function Za(t,e,r){return arguments.length>1?this.each((e==null?Ka:typeof e=="function"?Ja:Wa)(t,e,r??"")):me(this.node(),t)}function me(t,e){return t.style.getPropertyValue(e)||Zr(t).getComputedStyle(t,null).getPropertyValue(e)}function Qa(t){return function(){delete this[t]}}function ts(t,e){return function(){this[t]=e}}function es(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function ns(t,e){return arguments.length>1?this.each((e==null?Qa:typeof e=="function"?es:ts)(t,e)):this.node()[t]}function Qr(t){return t.trim().split(/^|\s+/)}function Yn(t){return t.classList||new to(t)}function to(t){this._node=t,this._names=Qr(t.getAttribute("class")||"")}to.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function eo(t,e){for(var r=Yn(t),i=-1,s=e.length;++i<s;)r.add(e[i])}function no(t,e){for(var r=Yn(t),i=-1,s=e.length;++i<s;)r.remove(e[i])}function rs(t){return function(){eo(this,t)}}function os(t){return function(){no(this,t)}}function is(t,e){return function(){(e.apply(this,arguments)?eo:no)(this,t)}}function as(t,e){var r=Qr(t+"");if(arguments.length<2){for(var i=Yn(this.node()),s=-1,l=r.length;++s<l;)if(!i.contains(r[s]))return!1;return!0}return this.each((typeof e=="function"?is:e?rs:os)(r,e))}function ss(){this.textContent=""}function us(t){return function(){this.textContent=t}}function ls(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function cs(t){return arguments.length?this.each(t==null?ss:(typeof t=="function"?ls:us)(t)):this.node().textContent}function fs(){this.innerHTML=""}function hs(t){return function(){this.innerHTML=t}}function ms(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ps(t){return arguments.length?this.each(t==null?fs:(typeof t=="function"?ms:hs)(t)):this.node().innerHTML}function ds(){this.nextSibling&&this.parentNode.appendChild(this)}function ys(){return this.each(ds)}function gs(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vs(){return this.each(gs)}function _s(t){var e=typeof t=="function"?t:Xn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function bs(){return null}function ws(t,e){var r=typeof t=="function"?t:Xn(t),i=e==null?bs:typeof e=="function"?e:Un(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function xs(){var t=this.parentNode;t&&t.removeChild(this)}function ks(){return this.each(xs)}function Es(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function As(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ms(t){return this.select(t?As:Es)}function Ns(t){return arguments.length?this.property("__data__",t):this.node().__data__}function qs(t){return function(e){t.call(this,e,this.__data__)}}function Ss(t){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");return i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),{type:e,name:r}})}function $s(t){return function(){var e=this.__on;if(e){for(var r=0,i=-1,s=e.length,l;r<s;++r)l=e[r],(!t.type||l.type===t.type)&&l.name===t.name?this.removeEventListener(l.type,l.listener,l.options):e[++i]=l;++i?e.length=i:delete this.__on}}}function Ts(t,e,r){return function(){var i=this.__on,s,l=qs(e);if(i){for(var c=0,h=i.length;c<h;++c)if((s=i[c]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=l,s.options=r),s.value=e;return}}this.addEventListener(t.type,l,r),s={type:t.type,name:t.name,value:e,listener:l,options:r},i?i.push(s):this.__on=[s]}}function zs(t,e,r){var i=Ss(t+""),s,l=i.length,c;if(arguments.length<2){var h=this.node().__on;if(h){for(var p=0,a=h.length,y;p<a;++p)for(s=0,y=h[p];s<l;++s)if((c=i[s]).type===y.type&&c.name===y.name)return y.value}return}for(h=e?Ts:$s,s=0;s<l;++s)this.each(h(i[s],e,r));return this}function ro(t,e,r){var i=Zr(t),s=i.CustomEvent;typeof s=="function"?s=new s(e,r):(s=i.document.createEvent("Event"),r?(s.initEvent(e,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function Os(t,e){return function(){return ro(this,t,e)}}function Ds(t,e){return function(){return ro(this,t,e.apply(this,arguments))}}function Is(t,e){return this.each((typeof e=="function"?Ds:Os)(t,e))}function*Rs(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var i=t[e],s=0,l=i.length,c;s<l;++s)(c=i[s])&&(yield c)}var oo=[null];function ct(t,e){this._groups=t,this._parents=e}function Ae(){return new ct([[document.documentElement]],oo)}function Ls(){return this}ct.prototype=Ae.prototype={constructor:ct,select:la,selectAll:ma,selectChild:ga,selectChildren:wa,filter:xa,data:qa,enter:ka,exit:$a,join:Ta,merge:za,selection:Ls,order:Oa,sort:Da,call:Ra,nodes:La,node:Pa,size:ja,empty:Ca,each:Ga,attr:Va,style:Za,property:ns,classed:as,text:cs,html:ps,raise:ys,lower:vs,append:_s,insert:ws,remove:ks,clone:Ms,datum:Ns,on:zs,dispatch:Is,[Symbol.iterator]:Rs};function Lt(t){return typeof t=="string"?new ct([[document.querySelector(t)]],[document.documentElement]):new ct([[t]],oo)}function Ps(t){return Lt(Xn(t).call(document.documentElement))}function js(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Pt(t,e){if(t=js(t),e===void 0&&(e=t.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const Vn={capture:!0,passive:!1};function Kn(t){t.preventDefault(),t.stopImmediatePropagation()}function Cs(t){var e=t.document.documentElement,r=Lt(t).on("dragstart.drag",Kn,Vn);"onselectstart"in e?r.on("selectstart.drag",Kn,Vn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Gs(t,e){var r=t.document.documentElement,i=Lt(t).on("dragstart.drag",null);e&&(i.on("click.drag",Kn,Vn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function Wn(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function io(t,e){var r=Object.create(t.prototype);for(var i in e)r[i]=e[i];return r}function Me(){}var Ne=.7,on=1/Ne,pe="\\s*([+-]?\\d+)\\s*",qe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hs=/^#([0-9a-f]{3,8})$/,Fs=new RegExp(`^rgb\\(${pe},${pe},${pe}\\)$`),Bs=new RegExp(`^rgb\\(${Et},${Et},${Et}\\)$`),Xs=new RegExp(`^rgba\\(${pe},${pe},${pe},${qe}\\)$`),Us=new RegExp(`^rgba\\(${Et},${Et},${Et},${qe}\\)$`),Ys=new RegExp(`^hsl\\(${qe},${Et},${Et}\\)$`),Vs=new RegExp(`^hsla\\(${qe},${Et},${Et},${qe}\\)$`),ao={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wn(Me,Se,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:so,formatHex:so,formatHex8:Ks,formatHsl:Ws,formatRgb:uo,toString:uo});function so(){return this.rgb().formatHex()}function Ks(){return this.rgb().formatHex8()}function Ws(){return mo(this).formatHsl()}function uo(){return this.rgb().formatRgb()}function Se(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Hs.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?lo(e):r===3?new it(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?an(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?an(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Fs.exec(t))?new it(e[1],e[2],e[3],1):(e=Bs.exec(t))?new it(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Xs.exec(t))?an(e[1],e[2],e[3],e[4]):(e=Us.exec(t))?an(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ys.exec(t))?ho(e[1],e[2]/100,e[3]/100,1):(e=Vs.exec(t))?ho(e[1],e[2]/100,e[3]/100,e[4]):ao.hasOwnProperty(t)?lo(ao[t]):t==="transparent"?new it(NaN,NaN,NaN,0):null}function lo(t){return new it(t>>16&255,t>>8&255,t&255,1)}function an(t,e,r,i){return i<=0&&(t=e=r=NaN),new it(t,e,r,i)}function Js(t){return t instanceof Me||(t=Se(t)),t?(t=t.rgb(),new it(t.r,t.g,t.b,t.opacity)):new it}function Jn(t,e,r,i){return arguments.length===1?Js(t):new it(t,e,r,i??1)}function it(t,e,r,i){this.r=+t,this.g=+e,this.b=+r,this.opacity=+i}Wn(it,Jn,io(Me,{brighter(t){return t=t==null?on:Math.pow(on,t),new it(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ne:Math.pow(Ne,t),new it(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new it(Zt(this.r),Zt(this.g),Zt(this.b),sn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:co,formatHex:co,formatHex8:Zs,formatRgb:fo,toString:fo}));function co(){return`#${Qt(this.r)}${Qt(this.g)}${Qt(this.b)}`}function Zs(){return`#${Qt(this.r)}${Qt(this.g)}${Qt(this.b)}${Qt((isNaN(this.opacity)?1:this.opacity)*255)}`}function fo(){const t=sn(this.opacity);return`${t===1?"rgb(":"rgba("}${Zt(this.r)}, ${Zt(this.g)}, ${Zt(this.b)}${t===1?")":`, ${t})`}`}function sn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qt(t){return t=Zt(t),(t<16?"0":"")+t.toString(16)}function ho(t,e,r,i){return i<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new _t(t,e,r,i)}function mo(t){if(t instanceof _t)return new _t(t.h,t.s,t.l,t.opacity);if(t instanceof Me||(t=Se(t)),!t)return new _t;if(t instanceof _t)return t;t=t.rgb();var e=t.r/255,r=t.g/255,i=t.b/255,s=Math.min(e,r,i),l=Math.max(e,r,i),c=NaN,h=l-s,p=(l+s)/2;return h?(e===l?c=(r-i)/h+(r<i)*6:r===l?c=(i-e)/h+2:c=(e-r)/h+4,h/=p<.5?l+s:2-l-s,c*=60):h=p>0&&p<1?0:c,new _t(c,h,p,t.opacity)}function Qs(t,e,r,i){return arguments.length===1?mo(t):new _t(t,e,r,i??1)}function _t(t,e,r,i){this.h=+t,this.s=+e,this.l=+r,this.opacity=+i}Wn(_t,Qs,io(Me,{brighter(t){return t=t==null?on:Math.pow(on,t),new _t(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ne:Math.pow(Ne,t),new _t(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,s=2*r-i;return new it(Zn(t>=240?t-240:t+120,s,i),Zn(t,s,i),Zn(t<120?t+240:t-120,s,i),this.opacity)},clamp(){return new _t(po(this.h),un(this.s),un(this.l),sn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=sn(this.opacity);return`${t===1?"hsl(":"hsla("}${po(this.h)}, ${un(this.s)*100}%, ${un(this.l)*100}%${t===1?")":`, ${t})`}`}}));function po(t){return t=(t||0)%360,t<0?t+360:t}function un(t){return Math.max(0,Math.min(1,t||0))}function Zn(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const yo=t=>()=>t;function tu(t,e){return function(r){return t+r*e}}function eu(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(i){return Math.pow(t+i*e,r)}}function nu(t){return(t=+t)==1?go:function(e,r){return r-e?eu(e,r,t):yo(isNaN(e)?r:e)}}function go(t,e){var r=e-t;return r?tu(t,r):yo(isNaN(t)?e:t)}const vo=function t(e){var r=nu(e);function i(s,l){var c=r((s=Jn(s)).r,(l=Jn(l)).r),h=r(s.g,l.g),p=r(s.b,l.b),a=go(s.opacity,l.opacity);return function(y){return s.r=c(y),s.g=h(y),s.b=p(y),s.opacity=a(y),s+""}}return i.gamma=t,i}(1);function jt(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var Qn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tr=new RegExp(Qn.source,"g");function ru(t){return function(){return t}}function ou(t){return function(e){return t(e)+""}}function iu(t,e){var r=Qn.lastIndex=tr.lastIndex=0,i,s,l,c=-1,h=[],p=[];for(t=t+"",e=e+"";(i=Qn.exec(t))&&(s=tr.exec(e));)(l=s.index)>r&&(l=e.slice(r,l),h[c]?h[c]+=l:h[++c]=l),(i=i[0])===(s=s[0])?h[c]?h[c]+=s:h[++c]=s:(h[++c]=null,p.push({i:c,x:jt(i,s)})),r=tr.lastIndex;return r<e.length&&(l=e.slice(r),h[c]?h[c]+=l:h[++c]=l),h.length<2?p[0]?ou(p[0].x):ru(e):(e=p.length,function(a){for(var y=0,g;y<e;++y)h[(g=p[y]).i]=g.x(a);return h.join("")})}var _o=180/Math.PI,bo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function wo(t,e,r,i,s,l){var c,h,p;return(c=Math.sqrt(t*t+e*e))&&(t/=c,e/=c),(p=t*r+e*i)&&(r-=t*p,i-=e*p),(h=Math.sqrt(r*r+i*i))&&(r/=h,i/=h,p/=h),t*i<e*r&&(t=-t,e=-e,p=-p,c=-c),{translateX:s,translateY:l,rotate:Math.atan2(e,t)*_o,skewX:Math.atan(p)*_o,scaleX:c,scaleY:h}}var ln;function au(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?bo:wo(e.a,e.b,e.c,e.d,e.e,e.f)}function su(t){return t==null||(ln||(ln=document.createElementNS("http://www.w3.org/2000/svg","g")),ln.setAttribute("transform",t),!(t=ln.transform.baseVal.consolidate()))?bo:(t=t.matrix,wo(t.a,t.b,t.c,t.d,t.e,t.f))}function xo(t,e,r,i){function s(a){return a.length?a.pop()+" ":""}function l(a,y,g,x,N,k){if(a!==g||y!==x){var I=N.push("translate(",null,e,null,r);k.push({i:I-4,x:jt(a,g)},{i:I-2,x:jt(y,x)})}else(g||x)&&N.push("translate("+g+e+x+r)}function c(a,y,g,x){a!==y?(a-y>180?y+=360:y-a>180&&(a+=360),x.push({i:g.push(s(g)+"rotate(",null,i)-2,x:jt(a,y)})):y&&g.push(s(g)+"rotate("+y+i)}function h(a,y,g,x){a!==y?x.push({i:g.push(s(g)+"skewX(",null,i)-2,x:jt(a,y)}):y&&g.push(s(g)+"skewX("+y+i)}function p(a,y,g,x,N,k){if(a!==g||y!==x){var I=N.push(s(N)+"scale(",null,",",null,")");k.push({i:I-4,x:jt(a,g)},{i:I-2,x:jt(y,x)})}else(g!==1||x!==1)&&N.push(s(N)+"scale("+g+","+x+")")}return function(a,y){var g=[],x=[];return a=t(a),y=t(y),l(a.translateX,a.translateY,y.translateX,y.translateY,g,x),c(a.rotate,y.rotate,g,x),h(a.skewX,y.skewX,g,x),p(a.scaleX,a.scaleY,y.scaleX,y.scaleY,g,x),a=y=null,function(N){for(var k=-1,I=x.length,H;++k<I;)g[(H=x[k]).i]=H.x(N);return g.join("")}}}var uu=xo(au,"px, ","px)","deg)"),lu=xo(su,", ",")",")"),cu=1e-12;function ko(t){return((t=Math.exp(t))+1/t)/2}function fu(t){return((t=Math.exp(t))-1/t)/2}function hu(t){return((t=Math.exp(2*t))-1)/(t+1)}const mu=function t(e,r,i){function s(l,c){var h=l[0],p=l[1],a=l[2],y=c[0],g=c[1],x=c[2],N=y-h,k=g-p,I=N*N+k*k,H,T;if(I<cu)T=Math.log(x/a)/e,H=function(rt){return[h+rt*N,p+rt*k,a*Math.exp(e*rt*T)]};else{var V=Math.sqrt(I),K=(x*x-a*a+i*I)/(2*a*r*V),et=(x*x-a*a-i*I)/(2*x*r*V),ot=Math.log(Math.sqrt(K*K+1)-K),at=Math.log(Math.sqrt(et*et+1)-et);T=(at-ot)/e,H=function(rt){var Mt=rt*T,Ct=ko(ot),ee=a/(r*V)*(Ct*hu(e*Mt+ot)-fu(ot));return[h+ee*N,p+ee*k,a*Ct/ko(e*Mt+ot)]}}return H.duration=T*1e3*e/Math.SQRT2,H}return s.rho=function(l){var c=Math.max(.001,+l),h=c*c,p=h*h;return t(c,h,p)},s}(Math.SQRT2,2,4);var de=0,$e=0,Te=0,Eo=1e3,cn,ze,fn=0,te=0,hn=0,Oe=typeof performance=="object"&&performance.now?performance:Date,Ao=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function er(){return te||(Ao(pu),te=Oe.now()+hn)}function pu(){te=0}function mn(){this._call=this._time=this._next=null}mn.prototype=Mo.prototype={constructor:mn,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?er():+r)+(e==null?0:+e),!this._next&&ze!==this&&(ze?ze._next=this:cn=this,ze=this),this._call=t,this._time=r,nr()},stop:function(){this._call&&(this._call=null,this._time=1/0,nr())}};function Mo(t,e,r){var i=new mn;return i.restart(t,e,r),i}function du(){er(),++de;for(var t=cn,e;t;)(e=te-t._time)>=0&&t._call.call(void 0,e),t=t._next;--de}function No(){te=(fn=Oe.now())+hn,de=$e=0;try{du()}finally{de=0,gu(),te=0}}function yu(){var t=Oe.now(),e=t-fn;e>Eo&&(hn-=e,fn=t)}function gu(){for(var t,e=cn,r,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:cn=r);ze=t,nr(i)}function nr(t){if(!de){$e&&($e=clearTimeout($e));var e=t-te;e>24?(t<1/0&&($e=setTimeout(No,t-Oe.now()-hn)),Te&&(Te=clearInterval(Te))):(Te||(fn=Oe.now(),Te=setInterval(yu,Eo)),de=1,Ao(No))}}function qo(t,e,r){var i=new mn;return e=e==null?0:+e,i.restart(s=>{i.stop(),t(s+e)},e,r),i}var vu=Fn("start","end","cancel","interrupt"),_u=[],So=0,$o=1,rr=2,pn=3,To=4,or=5,dn=6;function yn(t,e,r,i,s,l){var c=t.__transition;if(!c)t.__transition={};else if(r in c)return;bu(t,r,{name:e,index:i,group:s,on:vu,tween:_u,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:So})}function ir(t,e){var r=bt(t,e);if(r.state>So)throw new Error("too late; already scheduled");return r}function At(t,e){var r=bt(t,e);if(r.state>pn)throw new Error("too late; already running");return r}function bt(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function bu(t,e,r){var i=t.__transition,s;i[e]=r,r.timer=Mo(l,0,r.time);function l(a){r.state=$o,r.timer.restart(c,r.delay,r.time),r.delay<=a&&c(a-r.delay)}function c(a){var y,g,x,N;if(r.state!==$o)return p();for(y in i)if(N=i[y],N.name===r.name){if(N.state===pn)return qo(c);N.state===To?(N.state=dn,N.timer.stop(),N.on.call("interrupt",t,t.__data__,N.index,N.group),delete i[y]):+y<e&&(N.state=dn,N.timer.stop(),N.on.call("cancel",t,t.__data__,N.index,N.group),delete i[y])}if(qo(function(){r.state===pn&&(r.state=To,r.timer.restart(h,r.delay,r.time),h(a))}),r.state=rr,r.on.call("start",t,t.__data__,r.index,r.group),r.state===rr){for(r.state=pn,s=new Array(x=r.tween.length),y=0,g=-1;y<x;++y)(N=r.tween[y].value.call(t,t.__data__,r.index,r.group))&&(s[++g]=N);s.length=g+1}}function h(a){for(var y=a<r.duration?r.ease.call(null,a/r.duration):(r.timer.restart(p),r.state=or,1),g=-1,x=s.length;++g<x;)s[g].call(t,y);r.state===or&&(r.on.call("end",t,t.__data__,r.index,r.group),p())}function p(){r.state=dn,r.timer.stop(),delete i[e];for(var a in i)return;delete t.__transition}}function gn(t,e){var r=t.__transition,i,s,l=!0,c;if(r){e=e==null?null:e+"";for(c in r){if((i=r[c]).name!==e){l=!1;continue}s=i.state>rr&&i.state<or,i.state=dn,i.timer.stop(),i.on.call(s?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete r[c]}l&&delete t.__transition}}function wu(t){return this.each(function(){gn(this,t)})}function xu(t,e){var r,i;return function(){var s=At(this,t),l=s.tween;if(l!==r){i=r=l;for(var c=0,h=i.length;c<h;++c)if(i[c].name===e){i=i.slice(),i.splice(c,1);break}}s.tween=i}}function ku(t,e,r){var i,s;if(typeof r!="function")throw new Error;return function(){var l=At(this,t),c=l.tween;if(c!==i){s=(i=c).slice();for(var h={name:e,value:r},p=0,a=s.length;p<a;++p)if(s[p].name===e){s[p]=h;break}p===a&&s.push(h)}l.tween=s}}function Eu(t,e){var r=this._id;if(t+="",arguments.length<2){for(var i=bt(this.node(),r).tween,s=0,l=i.length,c;s<l;++s)if((c=i[s]).name===t)return c.value;return null}return this.each((e==null?xu:ku)(r,t,e))}function ar(t,e,r){var i=t._id;return t.each(function(){var s=At(this,i);(s.value||(s.value={}))[e]=r.apply(this,arguments)}),function(s){return bt(s,i).value[e]}}function zo(t,e){var r;return(typeof e=="number"?jt:e instanceof Se?vo:(r=Se(e))?(e=r,vo):iu)(t,e)}function Au(t){return function(){this.removeAttribute(t)}}function Mu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Nu(t,e,r){var i,s=r+"",l;return function(){var c=this.getAttribute(t);return c===s?null:c===i?l:l=e(i=c,r)}}function qu(t,e,r){var i,s=r+"",l;return function(){var c=this.getAttributeNS(t.space,t.local);return c===s?null:c===i?l:l=e(i=c,r)}}function Su(t,e,r){var i,s,l;return function(){var c,h=r(this),p;return h==null?void this.removeAttribute(t):(c=this.getAttribute(t),p=h+"",c===p?null:c===i&&p===s?l:(s=p,l=e(i=c,h)))}}function $u(t,e,r){var i,s,l;return function(){var c,h=r(this),p;return h==null?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local),p=h+"",c===p?null:c===i&&p===s?l:(s=p,l=e(i=c,h)))}}function Tu(t,e){var r=nn(t),i=r==="transform"?lu:zo;return this.attrTween(t,typeof e=="function"?(r.local?$u:Su)(r,i,ar(this,"attr."+t,e)):e==null?(r.local?Mu:Au)(r):(r.local?qu:Nu)(r,i,e))}function zu(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function Ou(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function Du(t,e){var r,i;function s(){var l=e.apply(this,arguments);return l!==i&&(r=(i=l)&&Ou(t,l)),r}return s._value=e,s}function Iu(t,e){var r,i;function s(){var l=e.apply(this,arguments);return l!==i&&(r=(i=l)&&zu(t,l)),r}return s._value=e,s}function Ru(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var i=nn(t);return this.tween(r,(i.local?Du:Iu)(i,e))}function Lu(t,e){return function(){ir(this,t).delay=+e.apply(this,arguments)}}function Pu(t,e){return e=+e,function(){ir(this,t).delay=e}}function ju(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Lu:Pu)(e,t)):bt(this.node(),e).delay}function Cu(t,e){return function(){At(this,t).duration=+e.apply(this,arguments)}}function Gu(t,e){return e=+e,function(){At(this,t).duration=e}}function Hu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Cu:Gu)(e,t)):bt(this.node(),e).duration}function Fu(t,e){if(typeof e!="function")throw new Error;return function(){At(this,t).ease=e}}function Bu(t){var e=this._id;return arguments.length?this.each(Fu(e,t)):bt(this.node(),e).ease}function Xu(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;At(this,t).ease=r}}function Uu(t){if(typeof t!="function")throw new Error;return this.each(Xu(this._id,t))}function Yu(t){typeof t!="function"&&(t=Kr(t));for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s)for(var l=e[s],c=l.length,h=i[s]=[],p,a=0;a<c;++a)(p=l[a])&&t.call(p,p.__data__,a,l)&&h.push(p);return new Tt(i,this._parents,this._name,this._id)}function Vu(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,i=e.length,s=r.length,l=Math.min(i,s),c=new Array(i),h=0;h<l;++h)for(var p=e[h],a=r[h],y=p.length,g=c[h]=new Array(y),x,N=0;N<y;++N)(x=p[N]||a[N])&&(g[N]=x);for(;h<i;++h)c[h]=e[h];return new Tt(c,this._parents,this._name,this._id)}function Ku(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function Wu(t,e,r){var i,s,l=Ku(e)?ir:At;return function(){var c=l(this,t),h=c.on;h!==i&&(s=(i=h).copy()).on(e,r),c.on=s}}function Ju(t,e){var r=this._id;return arguments.length<2?bt(this.node(),r).on.on(t):this.each(Wu(r,t,e))}function Zu(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function Qu(){return this.on("end.remove",Zu(this._id))}function tl(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Un(t));for(var i=this._groups,s=i.length,l=new Array(s),c=0;c<s;++c)for(var h=i[c],p=h.length,a=l[c]=new Array(p),y,g,x=0;x<p;++x)(y=h[x])&&(g=t.call(y,y.__data__,x,h))&&("__data__"in y&&(g.__data__=y.__data__),a[x]=g,yn(a[x],e,r,x,a,bt(y,r)));return new Tt(l,this._parents,e,r)}function el(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Vr(t));for(var i=this._groups,s=i.length,l=[],c=[],h=0;h<s;++h)for(var p=i[h],a=p.length,y,g=0;g<a;++g)if(y=p[g]){for(var x=t.call(y,y.__data__,g,p),N,k=bt(y,r),I=0,H=x.length;I<H;++I)(N=x[I])&&yn(N,e,r,I,x,k);l.push(x),c.push(y)}return new Tt(l,c,e,r)}var nl=Ae.prototype.constructor;function rl(){return new nl(this._groups,this._parents)}function ol(t,e){var r,i,s;return function(){var l=me(this,t),c=(this.style.removeProperty(t),me(this,t));return l===c?null:l===r&&c===i?s:s=e(r=l,i=c)}}function Oo(t){return function(){this.style.removeProperty(t)}}function il(t,e,r){var i,s=r+"",l;return function(){var c=me(this,t);return c===s?null:c===i?l:l=e(i=c,r)}}function al(t,e,r){var i,s,l;return function(){var c=me(this,t),h=r(this),p=h+"";return h==null&&(p=h=(this.style.removeProperty(t),me(this,t))),c===p?null:c===i&&p===s?l:(s=p,l=e(i=c,h))}}function sl(t,e){var r,i,s,l="style."+e,c="end."+l,h;return function(){var p=At(this,t),a=p.on,y=p.value[l]==null?h||(h=Oo(e)):void 0;(a!==r||s!==y)&&(i=(r=a).copy()).on(c,s=y),p.on=i}}function ul(t,e,r){var i=(t+="")=="transform"?uu:zo;return e==null?this.styleTween(t,ol(t,i)).on("end.style."+t,Oo(t)):typeof e=="function"?this.styleTween(t,al(t,i,ar(this,"style."+t,e))).each(sl(this._id,t)):this.styleTween(t,il(t,i,e),r).on("end.style."+t,null)}function ll(t,e,r){return function(i){this.style.setProperty(t,e.call(this,i),r)}}function cl(t,e,r){var i,s;function l(){var c=e.apply(this,arguments);return c!==s&&(i=(s=c)&&ll(t,c,r)),i}return l._value=e,l}function fl(t,e,r){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,cl(t,e,r??""))}function hl(t){return function(){this.textContent=t}}function ml(t){return function(){var e=t(this);this.textContent=e??""}}function pl(t){return this.tween("text",typeof t=="function"?ml(ar(this,"text",t)):hl(t==null?"":t+""))}function dl(t){return function(e){this.textContent=t.call(this,e)}}function yl(t){var e,r;function i(){var s=t.apply(this,arguments);return s!==r&&(e=(r=s)&&dl(s)),e}return i._value=t,i}function gl(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,yl(t))}function vl(){for(var t=this._name,e=this._id,r=Do(),i=this._groups,s=i.length,l=0;l<s;++l)for(var c=i[l],h=c.length,p,a=0;a<h;++a)if(p=c[a]){var y=bt(p,e);yn(p,t,r,a,c,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new Tt(i,this._parents,t,r)}function _l(){var t,e,r=this,i=r._id,s=r.size();return new Promise(function(l,c){var h={value:c},p={value:function(){--s===0&&l()}};r.each(function(){var a=At(this,i),y=a.on;y!==t&&(e=(t=y).copy(),e._.cancel.push(h),e._.interrupt.push(h),e._.end.push(p)),a.on=e}),s===0&&l()})}var bl=0;function Tt(t,e,r,i){this._groups=t,this._parents=e,this._name=r,this._id=i}function Do(){return++bl}var zt=Ae.prototype;Tt.prototype={constructor:Tt,select:tl,selectAll:el,selectChild:zt.selectChild,selectChildren:zt.selectChildren,filter:Yu,merge:Vu,selection:rl,transition:vl,call:zt.call,nodes:zt.nodes,node:zt.node,size:zt.size,empty:zt.empty,each:zt.each,on:Ju,attr:Tu,attrTween:Ru,style:ul,styleTween:fl,text:pl,textTween:gl,remove:Qu,tween:Eu,delay:ju,duration:Hu,ease:Bu,easeVarying:Uu,end:_l,[Symbol.iterator]:zt[Symbol.iterator]};function wl(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var xl={time:null,delay:0,duration:250,ease:wl};function kl(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function El(t){var e,r;t instanceof Tt?(e=t._id,t=t._name):(e=Do(),(r=xl).time=er(),t=t==null?null:t+"");for(var i=this._groups,s=i.length,l=0;l<s;++l)for(var c=i[l],h=c.length,p,a=0;a<h;++a)(p=c[a])&&yn(p,t,e,a,c,r||kl(p,e));return new Tt(i,this._parents,t,e)}Ae.prototype.interrupt=wu,Ae.prototype.transition=El;const vn=t=>()=>t;function Al(t,{sourceEvent:e,target:r,transform:i,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function Ot(t,e,r){this.k=t,this.x=e,this.y=r}Ot.prototype={constructor:Ot,scale:function(t){return t===1?this:new Ot(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ot(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ye=new Ot(1,0,0);Ot.prototype;function sr(t){t.stopImmediatePropagation()}function De(t){t.preventDefault(),t.stopImmediatePropagation()}function Ml(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Nl(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Io(){return this.__zoom||ye}function ql(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Sl(){return navigator.maxTouchPoints||"ontouchstart"in this}function $l(t,e,r){var i=t.invertX(e[0][0])-r[0][0],s=t.invertX(e[1][0])-r[1][0],l=t.invertY(e[0][1])-r[0][1],c=t.invertY(e[1][1])-r[1][1];return t.translate(s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s),c>l?(l+c)/2:Math.min(0,l)||Math.max(0,c))}function Tl(){var t=Ml,e=Nl,r=$l,i=ql,s=Sl,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],h=250,p=mu,a=Fn("start","zoom","end"),y,g,x,N=500,k=150,I=0,H=10;function T(v){v.property("__zoom",Io).on("wheel.zoom",Mt,{passive:!1}).on("mousedown.zoom",Ct).on("dblclick.zoom",ee).filter(s).on("touchstart.zoom",_n).on("touchmove.zoom",ne).on("touchend.zoom touchcancel.zoom",J).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}T.transform=function(v,S,A,q){var z=v.selection?v.selection():v;z.property("__zoom",Io),v!==z?ot(v,S,A,q):z.interrupt().each(function(){at(this,arguments).event(q).start().zoom(null,typeof S=="function"?S.apply(this,arguments):S).end()})},T.scaleBy=function(v,S,A,q){T.scaleTo(v,function(){var z=this.__zoom.k,P=typeof S=="function"?S.apply(this,arguments):S;return z*P},A,q)},T.scaleTo=function(v,S,A,q){T.transform(v,function(){var z=e.apply(this,arguments),P=this.__zoom,M=A==null?et(z):typeof A=="function"?A.apply(this,arguments):A,O=P.invert(M),X=typeof S=="function"?S.apply(this,arguments):S;return r(K(V(P,X),M,O),z,c)},A,q)},T.translateBy=function(v,S,A,q){T.transform(v,function(){return r(this.__zoom.translate(typeof S=="function"?S.apply(this,arguments):S,typeof A=="function"?A.apply(this,arguments):A),e.apply(this,arguments),c)},null,q)},T.translateTo=function(v,S,A,q,z){T.transform(v,function(){var P=e.apply(this,arguments),M=this.__zoom,O=q==null?et(P):typeof q=="function"?q.apply(this,arguments):q;return r(ye.translate(O[0],O[1]).scale(M.k).translate(typeof S=="function"?-S.apply(this,arguments):-S,typeof A=="function"?-A.apply(this,arguments):-A),P,c)},q,z)};function V(v,S){return S=Math.max(l[0],Math.min(l[1],S)),S===v.k?v:new Ot(S,v.x,v.y)}function K(v,S,A){var q=S[0]-A[0]*v.k,z=S[1]-A[1]*v.k;return q===v.x&&z===v.y?v:new Ot(v.k,q,z)}function et(v){return[(+v[0][0]+ +v[1][0])/2,(+v[0][1]+ +v[1][1])/2]}function ot(v,S,A,q){v.on("start.zoom",function(){at(this,arguments).event(q).start()}).on("interrupt.zoom end.zoom",function(){at(this,arguments).event(q).end()}).tween("zoom",function(){var z=this,P=arguments,M=at(z,P).event(q),O=e.apply(z,P),X=A==null?et(O):typeof A=="function"?A.apply(z,P):A,st=Math.max(O[1][0]-O[0][0],O[1][1]-O[0][1]),Z=z.__zoom,Q=typeof S=="function"?S.apply(z,P):S,ht=p(Z.invert(X).concat(st/Z.k),Q.invert(X).concat(st/Q.k));return function(ut){if(ut===1)ut=Q;else{var mt=ht(ut),Ie=st/mt[2];ut=new Ot(Ie,X[0]-mt[0]*Ie,X[1]-mt[1]*Ie)}M.zoom(null,ut)}})}function at(v,S,A){return!A&&v.__zooming||new rt(v,S)}function rt(v,S){this.that=v,this.args=S,this.active=0,this.sourceEvent=null,this.extent=e.apply(v,S),this.taps=0}rt.prototype={event:function(v){return v&&(this.sourceEvent=v),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(v,S){return this.mouse&&v!=="mouse"&&(this.mouse[1]=S.invert(this.mouse[0])),this.touch0&&v!=="touch"&&(this.touch0[1]=S.invert(this.touch0[0])),this.touch1&&v!=="touch"&&(this.touch1[1]=S.invert(this.touch1[0])),this.that.__zoom=S,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(v){var S=Lt(this.that).datum();a.call(v,this.that,new Al(v,{sourceEvent:this.sourceEvent,target:T,type:v,transform:this.that.__zoom,dispatch:a}),S)}};function Mt(v,...S){if(!t.apply(this,arguments))return;var A=at(this,S).event(v),q=this.__zoom,z=Math.max(l[0],Math.min(l[1],q.k*Math.pow(2,i.apply(this,arguments)))),P=Pt(v);if(A.wheel)(A.mouse[0][0]!==P[0]||A.mouse[0][1]!==P[1])&&(A.mouse[1]=q.invert(A.mouse[0]=P)),clearTimeout(A.wheel);else{if(q.k===z)return;A.mouse=[P,q.invert(P)],gn(this),A.start()}De(v),A.wheel=setTimeout(M,k),A.zoom("mouse",r(K(V(q,z),A.mouse[0],A.mouse[1]),A.extent,c));function M(){A.wheel=null,A.end()}}function Ct(v,...S){if(x||!t.apply(this,arguments))return;var A=v.currentTarget,q=at(this,S,!0).event(v),z=Lt(v.view).on("mousemove.zoom",X,!0).on("mouseup.zoom",st,!0),P=Pt(v,A),M=v.clientX,O=v.clientY;Cs(v.view),sr(v),q.mouse=[P,this.__zoom.invert(P)],gn(this),q.start();function X(Z){if(De(Z),!q.moved){var Q=Z.clientX-M,ht=Z.clientY-O;q.moved=Q*Q+ht*ht>I}q.event(Z).zoom("mouse",r(K(q.that.__zoom,q.mouse[0]=Pt(Z,A),q.mouse[1]),q.extent,c))}function st(Z){z.on("mousemove.zoom mouseup.zoom",null),Gs(Z.view,q.moved),De(Z),q.event(Z).end()}}function ee(v,...S){if(t.apply(this,arguments)){var A=this.__zoom,q=Pt(v.changedTouches?v.changedTouches[0]:v,this),z=A.invert(q),P=A.k*(v.shiftKey?.5:2),M=r(K(V(A,P),q,z),e.apply(this,S),c);De(v),h>0?Lt(this).transition().duration(h).call(ot,M,q,v):Lt(this).call(T.transform,M,q,v)}}function _n(v,...S){if(t.apply(this,arguments)){var A=v.touches,q=A.length,z=at(this,S,v.changedTouches.length===q).event(v),P,M,O,X;for(sr(v),M=0;M<q;++M)O=A[M],X=Pt(O,this),X=[X,this.__zoom.invert(X),O.identifier],z.touch0?!z.touch1&&z.touch0[2]!==X[2]&&(z.touch1=X,z.taps=0):(z.touch0=X,P=!0,z.taps=1+!!y);y&&(y=clearTimeout(y)),P&&(z.taps<2&&(g=X[0],y=setTimeout(function(){y=null},N)),gn(this),z.start())}}function ne(v,...S){if(this.__zooming){var A=at(this,S).event(v),q=v.changedTouches,z=q.length,P,M,O,X;for(De(v),P=0;P<z;++P)M=q[P],O=Pt(M,this),A.touch0&&A.touch0[2]===M.identifier?A.touch0[0]=O:A.touch1&&A.touch1[2]===M.identifier&&(A.touch1[0]=O);if(M=A.that.__zoom,A.touch1){var st=A.touch0[0],Z=A.touch0[1],Q=A.touch1[0],ht=A.touch1[1],ut=(ut=Q[0]-st[0])*ut+(ut=Q[1]-st[1])*ut,mt=(mt=ht[0]-Z[0])*mt+(mt=ht[1]-Z[1])*mt;M=V(M,Math.sqrt(ut/mt)),O=[(st[0]+Q[0])/2,(st[1]+Q[1])/2],X=[(Z[0]+ht[0])/2,(Z[1]+ht[1])/2]}else if(A.touch0)O=A.touch0[0],X=A.touch0[1];else return;A.zoom("touch",r(K(M,O,X),A.extent,c))}}function J(v,...S){if(this.__zooming){var A=at(this,S).event(v),q=v.changedTouches,z=q.length,P,M;for(sr(v),x&&clearTimeout(x),x=setTimeout(function(){x=null},N),P=0;P<z;++P)M=q[P],A.touch0&&A.touch0[2]===M.identifier?delete A.touch0:A.touch1&&A.touch1[2]===M.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(M=Pt(M,this),Math.hypot(g[0]-M[0],g[1]-M[1])<H)){var O=Lt(this).on("dblclick.zoom");O&&O.apply(this,arguments)}}}return T.wheelDelta=function(v){return arguments.length?(i=typeof v=="function"?v:vn(+v),T):i},T.filter=function(v){return arguments.length?(t=typeof v=="function"?v:vn(!!v),T):t},T.touchable=function(v){return arguments.length?(s=typeof v=="function"?v:vn(!!v),T):s},T.extent=function(v){return arguments.length?(e=typeof v=="function"?v:vn([[+v[0][0],+v[0][1]],[+v[1][0],+v[1][1]]]),T):e},T.scaleExtent=function(v){return arguments.length?(l[0]=+v[0],l[1]=+v[1],T):[l[0],l[1]]},T.translateExtent=function(v){return arguments.length?(c[0][0]=+v[0][0],c[1][0]=+v[1][0],c[0][1]=+v[0][1],c[1][1]=+v[1][1],T):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},T.constrain=function(v){return arguments.length?(r=v,T):r},T.duration=function(v){return arguments.length?(h=+v,T):h},T.interpolate=function(v){return arguments.length?(p=v,T):p},T.on=function(){var v=a.on.apply(a,arguments);return v===a?T:v},T.clickDistance=function(v){return arguments.length?(I=(v=+v)*v,T):Math.sqrt(I)},T.tapDistance=function(v){return arguments.length?(H=+v,T):H},T}class Ro{constructor(e){Y(this,"_rootHTMLElement");Y(this,"_SVG");Y(this,"_G");Y(this,"_systemData");Y(this,"_connections");Y(this,"_translationVec");Y(this,"_zoom");Y(this,"_zoomScale");Y(this,"_systemNames",[]);Y(this,"_boundingBox");Y(this,"_viewboxDimensions",[100,100]);Y(this,"_transformListener");Y(this,"_clickListener");Y(this,"YFlipper",e=>({x:e.x,y:-e.y,z:e.z}));Y(this,"computeBoundingBox",e=>e.reduce((r,i)=>{const s=i[0],l=i[1],c=i[2],h=r.corner1,p=r.corner2;return s<=h[0]&&(h[0]=s),l<=h[1]&&(h[1]=l),c<=h[2]&&(h[2]=c),s>=p[0]&&(p[0]=s),l>=p[1]&&(p[1]=l),c>=p[2]&&(p[2]=c),r.center=[(p[0]+h[0])/2,(p[1]+h[1])/2,(p[2]+h[2])/2],r},{corner1:[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],corner2:[Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER],center:[0,0,0]}));Y(this,"zoomed",e=>{const{transform:r}=e,i=this.rootHTMLElement.clientWidth,s=this.rootHTMLElement.clientHeight,l=i/s;this.G.attr("transform",r),this.transformListener!==void 0&&this.transformListener.set({...r,aspectRatio:l}),this._zoomScale=r.k});Y(this,"zoomEnd",e=>{this.zoomed(e);const{transform:r}=e,i=btoa(JSON.stringify(r)),s=new URL(window.location.toString());s.searchParams.set("args",i),history.replaceState({},"",s.toString())});Y(this,"transformParser",e=>{try{const r=JSON.parse(atob(e));return{translate:[r.x,r.y],scale:r.k}}catch{return}});this._rootHTMLElement=e}get rootHTMLElement(){return this._rootHTMLElement}get SVG(){return this._SVG}get G(){return this._G}get systemData(){return this._systemData}get connections(){return this._connections}get translationVec(){return this._translationVec}get zoom(){return this._zoom}get names(){return this._systemNames}get boundingBox(){return this._boundingBox}get viewboxDimensions(){return this._viewboxDimensions}get transformListener(){return this._transformListener}get clickListener(){return this._clickListener}get zoomScale(){return this._zoomScale}dispose(){}destroy(){const e=this.rootHTMLElement.getElementsByTagName(this.SVG.node().tagName)[0];this.rootHTMLElement.removeChild(e)}addTransformListener(e){this._transformListener=e}addClickListener(e){this._clickListener=e}update(e,r,i=!1){this._systemData=e.reduce((s,l)=>(s.push({...l}),s),[]),this._connections=r.reduce((s,l)=>(s.push({...l}),s),[]),this._systemNames=e.map(s=>new String(s.systemName).toString()),this.recreate(this.systemData,this.connections,i)}recreate(e,r,i=!1){const s=this.viewboxDimensions,l=e.map(k=>(k.y=-k.y,k)).map(k=>({...k,...ta(ea(k.security))})),c=r.map(k=>(k.fromY=-k.fromY,k.toY=-k.toY,k)),h=this.computeBoundingBox(l.map(k=>[k.x,k.y,k.z]));this._boundingBox=h;const p=h.center,a=[s[0]/2-p[0],s[1]/2-p[1]];this._translationVec=a;const y=[.5,8],g=Ps("svg"),x=g.append("svg:g");if(this._SVG=g,this._G=x,g.attr("xmlns","http://www.w3.org/2000/svg").attr("id","SVGSubway").attr("preserveAspectRatio","xMidYMid meet"),i){const k={translate:[p[0],p[1]],scale:1},I=ye.translate(k.translate[0],k.translate[1]).scale(k.scale),H=Tl().scaleExtent(y).translateExtent([[h.corner1[0]*1.2,h.corner1[1]*1.2],[h.corner2[0]*1.2,h.corner2[1]*1.2]]).on("zoom",this.zoomed).on("end",this.zoomEnd);this._zoom=H,g.attr("viewBox",[Math.round(p[0]),Math.round(p[1]),...s]).call(H).call(H.transform,I)}else{const k=h.corner1,I=h.corner2,H=Math.sqrt((I[0]-k[0])**2),T=Math.sqrt((I[1]-k[1])**2),V=Math.max(H,T);g.attr("viewBox",[Math.round(k[0]),Math.round(k[1]),Math.round(V),Math.round(V)]),g.on("pointerdown",K=>{if(this.clickListener===void 0)return;const et=Pt(K);this.clickListener.set({x:et[0],y:et[1]})})}console.log("Linhas"),x.selectAll("line").data(c).enter().append("line").attr("class","svg-line").attr("x1",k=>String(k.fromX)).attr("y1",k=>String(k.fromY)).attr("x2",k=>String(k.toX)).attr("y2",k=>String(k.toY)),console.log("N\xF3s"),i?x.selectAll("text").data(l).enter().append("text").attr("class","svg-text").attr("x",k=>String(k.x)).attr("y",k=>String(k.y)).attr("dominant-baseline","middle").text(k=>k.systemName).attr("id",k=>`system-${k.systemName}`):x.selectAll("circle").data(l).enter().append("circle").attr("class","svg-circle").attr("cx",k=>String(k.x)).attr("cy",k=>String(k.y)).attr("r",3).attr("id",k=>`system-${k.systemName}`);const N=this.rootHTMLElement.getElementsByTagName(g.node().tagName)[0];N===void 0?this.rootHTMLElement.appendChild(g.node()):this.rootHTMLElement.replaceChild(g.node(),N),i&&(console.log("Rect\xE2ngulo"),x.selectAll("text").each(function(k,I){const H=this.getBBox();x.insert("rect","text").attr("class","svg-node").attr("x",String(H.x)).attr("y",String(H.y)).attr("rx",1).attr("ry",1).attr("width",String(H.width*1.05)).attr("height",String(H.height*1.05)).style("stroke",()=>`rgb(${k.r},${k.g},${k.b})`)}))}applyTransform(e){const r=this.transformParser(e);if(r===void 0)return;const i=this.SVG,s=ye.translate(r.translate[0],r.translate[1]).scale(r.scale);i.call(this.zoom.transform,s)}centerOnCoords(e,r,i){const s=this.SVG,l=this.viewboxDimensions,c=this.zoom,h=i||this.zoomScale,p=this.boundingBox.center,a=-e*h+l[0]/2+p[0],y=-r*h+l[0]/2+p[1],g=ye.translate(a,y).scale(h);s.call(c.transform,g)}centerOnNode(e){const r=this.SVG,i=this.names.map(h=>{const p=Br(h.toLowerCase(),e.toLowerCase());return{name:h,distance:p}}).sort((h,p)=>p.distance-h.distance)[0],s=r.select(`#system-${i.name}`),l=parseFloat(s.attr("x")),c=parseFloat(s.attr("y"));this.centerOnCoords(l,c,2)}minimapRect(e){const r=this.boundingBox.center,i=this.viewboxDimensions,s=ye.translate(e.x,e.y).scale(e.k).invert([r[0],r[1]]),l=this.G.node().getBoundingClientRect().width,c=this.G.node().getBoundingClientRect().height,h=Math.min(l,c),p=h/this.viewboxDimensions[0],a=s[0]+i[0]/2/e.k,y=s[1]+i[1]/2/e.k,g=h*Math.max(e.aspectRatio,1)/p/e.k,x=h*1/Math.min(e.aspectRatio,1)/p/e.k,N=a-h*Math.max(e.aspectRatio,1)/p/2/e.k,k=y-h*1/Math.min(e.aspectRatio,1)/p/2/e.k;this.G.select("#svg-minimap-rect").remove(),this.G.append("rect").attr("id","svg-minimap-rect").attr("width",g).attr("height",x).attr("stroke","red").attr("stroke-width",2).attr("fill","none").attr("x",N).attr("y",k)}onWindowResize(){}}function zl(t){let e,r,i,s;return{c(){e=St("div"),r=St("div"),i=Ve(),s=St("div"),gt(r,"id","SVGMiniMap"),gt(r,"class","svelte-1fl0fxp"),gt(s,"id","SVGBigMap"),gt(s,"class","svelte-1fl0fxp"),gt(e,"id","SVGRoot"),gt(e,"class","svelte-1fl0fxp")},m(l,c){Ye(l,e,c),kt(e,r),t[3](r),kt(e,i),kt(e,s),t[4](s),t[5](e)},p:nt,i:nt,o:nt,d(l){l&&_e(e),t[3](null),t[4](null),t[5](null)}}}function Ol(t,e,r){let i,s,l,c,h;jr.subscribe(g=>{c!==void 0&&c.centerOnNode(g.systemName)}),Cr.subscribe(g=>{h!==void 0&&h.minimapRect(g)}),Fr.subscribe(g=>{c!==void 0&&c.centerOnCoords(g.x,g.y)}),Gr.subscribe(g=>{c===void 0||h===void 0||(console.log("Drawing minimap"),h.update(g.nodeData,g.edgeData),console.log("Drawing maximap"),c.update(g.nodeData,g.edgeData,!0))}),Hr.subscribe(g=>{c===void 0||h===void 0||c.applyTransform(g.args)}),Sr(()=>{h=new Ro(l),c=new Ro(s),c.addTransformListener(Cr),h.addClickListener(Fr)});function p(g){Yt[g?"unshift":"push"](()=>{l=g,r(2,l)})}function a(g){Yt[g?"unshift":"push"](()=>{s=g,r(1,s)})}function y(g){Yt[g?"unshift":"push"](()=>{i=g,r(0,i)})}return[i,s,l,p,a,y]}class Dl extends jn{constructor(e){super(),Pn(this,e,Ol,zl,Ue,{})}}function Il(t){let e,r,i,s,l,c;return{c(){e=St("div"),r=St("input"),i=Ve(),s=St("button"),s.textContent="Search",gt(r,"type","text"),gt(r,"placeholder","Find system"),gt(s,"type","submit"),gt(e,"class","svelte-kpn7pf")},m(h,p){Ye(h,e,p),kt(e,r),t[4](r),Nr(r,t[2]),kt(e,i),kt(e,s),t[7](s),l||(c=[be(r,"input",t[5]),be(r,"change",t[6]),be(s,"click",t[8])],l=!0)},p(h,[p]){p&4&&r.value!==h[2]&&Nr(r,h[2])},i:nt,o:nt,d(h){h&&_e(e),t[4](null),t[7](null),l=!1,se(c)}}}function Rl(t,e,r){let i,s,l="";const c=g=>{jr.set({systemName:g}),r(0,i.value="",i)};window.addEventListener("keydown",function(g){(g.keyCode===114||g.ctrlKey&&g.keyCode===70)&&(g.preventDefault(),i.focus())});function h(g){Yt[g?"unshift":"push"](()=>{i=g,r(0,i)})}function p(){l=this.value,r(2,l)}const a=()=>c(l);function y(g){Yt[g?"unshift":"push"](()=>{s=g,r(1,s)})}return[i,s,l,c,h,p,a,y,()=>c(l)]}class Ll extends jn{constructor(e){super(),Pn(this,e,Rl,Il,Ue,{})}}function Lo(t,e,r){const i=t.slice();return i[6]=e[r],i}function Po(t){let e,r=t[6]+"",i,s;return{c(){e=St("option"),i=Mr(r),e.__value=s=t[6],e.value=e.__value},m(l,c){Ye(l,e,c),kt(e,i)},p(l,c){c&2&&r!==(r=l[6]+"")&&Ni(i,r),c&2&&s!==(s=l[6])&&(e.__value=s,e.value=e.__value)},d(l){l&&_e(e)}}}function Pl(t){let e,r,i,s,l,c,h,p,a,y=t[1],g=[];for(let x=0;x<y.length;x+=1)g[x]=Po(Lo(t,y,x));return s=new Ll({}),c=new Dl({}),{c(){e=St("div"),r=St("select");for(let x=0;x<g.length;x+=1)g[x].c();i=Ve(),Or(s.$$.fragment),l=Ve(),Or(c.$$.fragment),t[0]===void 0&&Ke(()=>t[3].call(r)),gt(e,"class","svelte-1ih7d2s")},m(x,N){Ye(x,e,N),kt(e,r);for(let k=0;k<g.length;k+=1)g[k]&&g[k].m(r,null);qr(r,t[0],!0),kt(e,i),Rn(s,e,null),kt(e,l),Rn(c,e,null),h=!0,p||(a=[be(r,"change",t[3]),be(r,"change",t[4])],p=!0)},p(x,[N]){if(N&2){y=x[1];let k;for(k=0;k<y.length;k+=1){const I=Lo(x,y,k);g[k]?g[k].p(I,N):(g[k]=Po(I),g[k].c(),g[k].m(r,null))}for(;k<g.length;k+=1)g[k].d(1);g.length=y.length}N&3&&qr(r,x[0])},i(x){h||(In(s.$$.fragment,x),In(c.$$.fragment,x),h=!0)},o(x){zr(s.$$.fragment,x),zr(c.$$.fragment,x),h=!1},d(x){x&&_e(e),Ai(g,x),Ln(s),Ln(c),p=!1,se(a)}}}function jl(t,e,r){let i,s=[];const l=p=>{r(0,i=p);const a=new URL(window.location.toString());a.searchParams.set("region",p),history.replaceState({},"",a.toString());const y=Jt.instance.getRegionCoordinatesandStatuses(p),g=Jt.instance.getConnections(p);tn.combine([y,g]).map(x=>{const N=x[0],k=x[1];Gr.set({nodeData:N,edgeData:k})}).mapErr(console.log)},c=p=>{const a=new URLSearchParams(p),y=a.get("region")||s[0],g=a.get("args")||"";return{region:y,args:g}};Sr(()=>{console.log("Fui montado"),r(1,s=Jt.instance.getAllRegionNames());const p=c(window.location.search);l(p.region),Hr.set({args:p.args})});function h(){i=qi(this),r(0,i),r(1,s)}return[i,s,l,h,()=>l(i)]}class Cl extends jn{constructor(e){super(),Pn(this,e,jl,Pl,Ue,{})}}new Cl({target:document.getElementById("app")})})();
